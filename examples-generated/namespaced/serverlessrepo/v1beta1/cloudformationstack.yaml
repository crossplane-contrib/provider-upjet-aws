# SPDX-FileCopyrightText: 2025 The Crossplane Authors <https://crossplane.io>
#
# SPDX-License-Identifier: CC0-1.0


apiVersion: serverlessrepo.aws.m.upbound.io/v1beta1
kind: CloudFormationStack
metadata:
  annotations:
    meta.upbound.io/example-id: serverlessrepo/v1beta1/cloudformationstack
  labels:
    testing.upbound.io/example-name: postgres-rotator
  name: postgres-rotator
  namespace: upbound-system
spec:
  forProvider:
    applicationId: arn:aws:serverlessrepo:us-east-1:297356227824:applications/SecretsManagerRDSPostgreSQLRotationSingleUser
    capabilities:
    - CAPABILITY_IAM
    - CAPABILITY_RESOURCE_POLICY
    name: postgres-rotator
    parameters:
      endpoint: secretsmanager.${data.aws_region.current.region}.${data.aws_partition.current.dns_suffix}
      functionName: func-postgres-rotator
    region: us-west-1

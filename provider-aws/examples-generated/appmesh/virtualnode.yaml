apiVersion: appmesh.aws.upbound.io/v1alpha1
kind: VirtualNode
metadata:
  name: example
spec:
  forProvider:
    meshName: ${aws_appmesh_mesh.simple.id}
    name: serviceBv1
    spec:
    - backend:
      - virtualService:
        - virtualServiceName: servicea.simpleapp.local
      listener:
      - portMapping:
        - port: 8080
          protocol: http
      serviceDiscovery:
      - dns:
        - hostname: serviceb.simpleapp.local
  providerConfigRef:
    name: example

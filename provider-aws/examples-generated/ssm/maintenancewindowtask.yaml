apiVersion: ssm.aws.upbound.io/v1alpha1
kind: MaintenanceWindowTask
metadata:
  name: example
spec:
  forProvider:
    maxConcurrency: 2
    maxErrors: 1
    priority: 1
    targets:
    - key: InstanceIds
      values:
      - ${aws_instance.example.id}
    taskArn: AWS-RestartEC2Instance
    taskInvocationParameters:
    - automationParameters:
      - documentVersion: $LATEST
        parameter:
        - name: InstanceId
          values:
          - ${aws_instance.example.id}
    taskType: AUTOMATION
    windowId: ${aws_ssm_maintenance_window.example.id}
  providerConfigRef:
    name: example

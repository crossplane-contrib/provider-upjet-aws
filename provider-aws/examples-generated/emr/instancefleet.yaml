apiVersion: emr.aws.upbound.io/v1alpha1
kind: InstanceFleet
metadata:
  name: example
spec:
  forProvider:
    clusterId: ${aws_emr_cluster.cluster.id}
    instanceTypeConfigs:
    - bidPriceAsPercentageOfOnDemandPrice: 100
      ebsConfig:
      - size: 100
        type: gp2
        volumesPerInstance: 1
      instanceType: m4.xlarge
      weightedCapacity: 1
    - bidPriceAsPercentageOfOnDemandPrice: 100
      ebsConfig:
      - size: 100
        type: gp2
        volumesPerInstance: 1
      instanceType: m4.2xlarge
      weightedCapacity: 2
    launchSpecifications:
    - spotSpecification:
      - allocationStrategy: capacity-optimized
        blockDurationMinutes: 0
        timeoutAction: TERMINATE_CLUSTER
        timeoutDurationMinutes: 10
    name: task fleet
    targetOnDemandCapacity: 1
    targetSpotCapacity: 1
  providerConfigRef:
    name: example

apiVersion: firehose.aws.upbound.io/v1alpha1
kind: DeliveryStream
metadata:
  name: example
spec:
  forProvider:
    destination: extended_s3
    extendedS3Configuration:
    - bucketArn: ${aws_s3_bucket.bucket.arn}
      processingConfiguration:
      - enabled: "true"
        processors:
        - parameters:
          - parameterName: LambdaArn
            parameterValue: ${aws_lambda_function.lambda_processor.arn}:$LATEST
          type: Lambda
      roleArn: ${aws_iam_role.firehose_role.arn}
    name: terraform-kinesis-firehose-extended-s3-test-stream
  providerConfigRef:
    name: example

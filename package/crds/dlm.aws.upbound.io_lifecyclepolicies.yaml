---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: lifecyclepolicies.dlm.aws.upbound.io
spec:
  group: dlm.aws.upbound.io
  names:
    categories:
    - crossplane
    - managed
    - aws
    kind: LifecyclePolicy
    listKind: LifecyclePolicyList
    plural: lifecyclepolicies
    singular: lifecyclepolicy
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=='Synced')].status
      name: SYNCED
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: READY
      type: string
    - jsonPath: .metadata.annotations.crossplane\.io/external-name
      name: EXTERNAL-NAME
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: LifecyclePolicy is the Schema for the LifecyclePolicys API. Provides
          a Data Lifecycle Manager (DLM) lifecycle policy for managing snapshots.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: LifecyclePolicySpec defines the desired state of LifecyclePolicy
            properties:
              deletionPolicy:
                default: Delete
                description: |-
                  DeletionPolicy specifies what will happen to the underlying external
                  when this managed resource is deleted - either "Delete" or "Orphan" the
                  external resource.
                  This field is planned to be deprecated in favor of the ManagementPolicies
                  field in a future release. Currently, both could be set independently and
                  non-default values would be honored if the feature flag is enabled.
                  See the design doc for more information: https://github.com/crossplane/crossplane/blob/499895a25d1a1a0ba1604944ef98ac7a1a71f197/design/design-doc-observe-only-resources.md?plain=1#L223
                enum:
                - Orphan
                - Delete
                type: string
              forProvider:
                properties:
                  description:
                    description: A description for the DLM lifecycle policy.
                    type: string
                  executionRoleArn:
                    description: The ARN of an IAM role that is able to be assumed
                      by the DLM service.
                    type: string
                  executionRoleArnRef:
                    description: Reference to a Role in iam to populate executionRoleArn.
                    properties:
                      name:
                        description: Name of the referenced object.
                        type: string
                      policy:
                        description: Policies for referencing.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    required:
                    - name
                    type: object
                  executionRoleArnSelector:
                    description: Selector for a Role in iam to populate executionRoleArn.
                    properties:
                      matchControllerRef:
                        description: |-
                          MatchControllerRef ensures an object with the same controller reference
                          as the selecting object is selected.
                        type: boolean
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: MatchLabels ensures an object with matching labels
                          is selected.
                        type: object
                      policy:
                        description: Policies for selection.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    type: object
                  policyDetails:
                    description: See the policy_details configuration block. Max of
                      1.
                    items:
                      properties:
                        action:
                          description: The actions to be performed when the event-based
                            policy is triggered. You can specify only one action per
                            policy. This parameter is required for event-based policies
                            only. If you are creating a snapshot or AMI policy, omit
                            this parameter. See the action configuration block.
                          items:
                            properties:
                              crossRegionCopy:
                                description: The rule for copying shared snapshots
                                  across Regions. See the cross_region_copy configuration
                                  block.
                                items:
                                  properties:
                                    encryptionConfiguration:
                                      description: The encryption settings for the
                                        copied snapshot. See the encryption_configuration
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          cmkArn:
                                            description: The Amazon Resource Name
                                              (ARN) of the AWS KMS key to use for
                                              EBS encryption. If this parameter is
                                              not specified, the default KMS key for
                                              the account is used.
                                            type: string
                                          encrypted:
                                            description: To encrypt a copy of an unencrypted
                                              snapshot when encryption by default
                                              is not enabled, enable encryption using
                                              this parameter. Copies of encrypted
                                              snapshots are encrypted, even if this
                                              parameter is false or when encryption
                                              by default is not enabled.
                                            type: boolean
                                        type: object
                                      type: array
                                    retainRule:
                                      description: Specifies the retention rule for
                                        cross-Region snapshot copies. See the retain_rule
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    target:
                                      description: The target Region or the Amazon
                                        Resource Name (ARN) of the target Outpost
                                        for the snapshot copies.
                                      type: string
                                  type: object
                                type: array
                              name:
                                description: A descriptive name for the action.
                                type: string
                            type: object
                          type: array
                        eventSource:
                          description: The event that triggers the event-based policy.
                            This parameter is required for event-based policies only.
                            If you are creating a snapshot or AMI policy, omit this
                            parameter. See the event_source configuration block.
                          items:
                            properties:
                              parameters:
                                description: A set of optional parameters for snapshot
                                  and AMI lifecycle policies. See the parameters configuration
                                  block.
                                items:
                                  properties:
                                    descriptionRegex:
                                      description: The snapshot description that can
                                        trigger the policy. The description pattern
                                        is specified using a regular expression. The
                                        policy runs only if a snapshot with a description
                                        that matches the specified pattern is shared
                                        with your account.
                                      type: string
                                    eventType:
                                      description: The type of event. Currently, only
                                        shareSnapshot events are supported.
                                      type: string
                                    snapshotOwner:
                                      description: The IDs of the AWS accounts that
                                        can trigger policy by sharing snapshots with
                                        your account. The policy only runs if one
                                        of the specified AWS accounts shares a snapshot
                                        with your account.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                  type: object
                                type: array
                              type:
                                description: The source of the event. Currently only
                                  managed CloudWatch Events rules are supported. Valid
                                  values are MANAGED_CWE.
                                type: string
                            type: object
                          type: array
                        parameters:
                          description: A set of optional parameters for snapshot and
                            AMI lifecycle policies. See the parameters configuration
                            block.
                          items:
                            properties:
                              excludeBootVolume:
                                description: Indicates whether to exclude the root
                                  volume from snapshots created using CreateSnapshots.
                                  The default is false.
                                type: boolean
                              noReboot:
                                description: Applies to AMI lifecycle policies only.
                                  Indicates whether targeted instances are rebooted
                                  when the lifecycle policy runs. true indicates that
                                  targeted instances are not rebooted when the policy
                                  runs. false indicates that target instances are
                                  rebooted when the policy runs. The default is true
                                  (instances are not rebooted).
                                type: boolean
                            type: object
                          type: array
                        policyType:
                          description: The valid target resource types and actions
                            a policy can manage. Specify EBS_SNAPSHOT_MANAGEMENT to
                            create a lifecycle policy that manages the lifecycle of
                            Amazon EBS snapshots. Specify IMAGE_MANAGEMENT to create
                            a lifecycle policy that manages the lifecycle of EBS-backed
                            AMIs. Specify EVENT_BASED_POLICY to create an event-based
                            policy that performs specific actions when a defined event
                            occurs in your AWS account. Default value is EBS_SNAPSHOT_MANAGEMENT.
                          type: string
                        resourceLocations:
                          description: The location of the resources to backup. If
                            the source resources are located in an AWS Region, specify
                            CLOUD. If the source resources are located on an Outpost
                            in your account, specify OUTPOST. If you specify OUTPOST,
                            Amazon Data Lifecycle Manager backs up all resources of
                            the specified type with matching target tags across all
                            of the Outposts in your account. Valid values are CLOUD
                            and OUTPOST.
                          items:
                            type: string
                          type: array
                        resourceTypes:
                          description: A list of resource types that should be targeted
                            by the lifecycle policy. Valid values are VOLUME and INSTANCE.
                          items:
                            type: string
                          type: array
                        schedule:
                          description: See the schedule configuration block.
                          items:
                            properties:
                              copyTags:
                                description: Copy all user-defined tags on a source
                                  volume to snapshots of the volume created by this
                                  policy.
                                type: boolean
                              createRule:
                                description: See the create_rule block. Max of 1 per
                                  schedule.
                                items:
                                  properties:
                                    cronExpression:
                                      description: The schedule, as a Cron expression.
                                        The schedule interval must be between 1 hour
                                        and 1 year. Conflicts with interval, interval_unit,
                                        and times.
                                      type: string
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                    location:
                                      description: Specifies the destination for snapshots
                                        created by the policy. To create snapshots
                                        in the same Region as the source resource,
                                        specify CLOUD. To create snapshots on the
                                        same Outpost as the source resource, specify
                                        OUTPOST_LOCAL. If you omit this parameter,
                                        CLOUD is used by default. If the policy targets
                                        resources in an AWS Region, then you must
                                        create snapshots in the same Region as the
                                        source resource. If the policy targets resources
                                        on an Outpost, then you can create snapshots
                                        on the same Outpost as the source resource,
                                        or in the Region of that Outpost. Valid values
                                        are CLOUD and OUTPOST_LOCAL.
                                      type: string
                                    times:
                                      description: A list of times in 24 hour clock
                                        format that sets when the lifecycle policy
                                        should be evaluated. Max of 1. Conflicts with
                                        cron_expression. Must be set if interval is
                                        set.
                                      items:
                                        type: string
                                      type: array
                                  type: object
                                type: array
                              crossRegionCopyRule:
                                description: See the cross_region_copy_rule block.
                                  Max of 3 per schedule.
                                items:
                                  properties:
                                    cmkArn:
                                      description: The Amazon Resource Name (ARN)
                                        of the AWS KMS key to use for EBS encryption.
                                        If this parameter is not specified, the default
                                        KMS key for the account is used.
                                      type: string
                                    cmkArnRef:
                                      description: Reference to a Key in kms to populate
                                        cmkArn.
                                      properties:
                                        name:
                                          description: Name of the referenced object.
                                          type: string
                                        policy:
                                          description: Policies for referencing.
                                          properties:
                                            resolution:
                                              default: Required
                                              description: |-
                                                Resolution specifies whether resolution of this reference is required.
                                                The default is 'Required', which means the reconcile will fail if the
                                                reference cannot be resolved. 'Optional' means this reference will be
                                                a no-op if it cannot be resolved.
                                              enum:
                                              - Required
                                              - Optional
                                              type: string
                                            resolve:
                                              description: |-
                                                Resolve specifies when this reference should be resolved. The default
                                                is 'IfNotPresent', which will attempt to resolve the reference only when
                                                the corresponding field is not present. Use 'Always' to resolve the
                                                reference on every reconcile.
                                              enum:
                                              - Always
                                              - IfNotPresent
                                              type: string
                                          type: object
                                      required:
                                      - name
                                      type: object
                                    cmkArnSelector:
                                      description: Selector for a Key in kms to populate
                                        cmkArn.
                                      properties:
                                        matchControllerRef:
                                          description: |-
                                            MatchControllerRef ensures an object with the same controller reference
                                            as the selecting object is selected.
                                          type: boolean
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: MatchLabels ensures an object
                                            with matching labels is selected.
                                          type: object
                                        policy:
                                          description: Policies for selection.
                                          properties:
                                            resolution:
                                              default: Required
                                              description: |-
                                                Resolution specifies whether resolution of this reference is required.
                                                The default is 'Required', which means the reconcile will fail if the
                                                reference cannot be resolved. 'Optional' means this reference will be
                                                a no-op if it cannot be resolved.
                                              enum:
                                              - Required
                                              - Optional
                                              type: string
                                            resolve:
                                              description: |-
                                                Resolve specifies when this reference should be resolved. The default
                                                is 'IfNotPresent', which will attempt to resolve the reference only when
                                                the corresponding field is not present. Use 'Always' to resolve the
                                                reference on every reconcile.
                                              enum:
                                              - Always
                                              - IfNotPresent
                                              type: string
                                          type: object
                                      type: object
                                    copyTags:
                                      description: Copy all user-defined tags on a
                                        source volume to snapshots of the volume created
                                        by this policy.
                                      type: boolean
                                    deprecateRule:
                                      description: See the deprecate_rule block. Max
                                        of 1 per schedule.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    encrypted:
                                      description: To encrypt a copy of an unencrypted
                                        snapshot when encryption by default is not
                                        enabled, enable encryption using this parameter.
                                        Copies of encrypted snapshots are encrypted,
                                        even if this parameter is false or when encryption
                                        by default is not enabled.
                                      type: boolean
                                    retainRule:
                                      description: Specifies the retention rule for
                                        cross-Region snapshot copies. See the retain_rule
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    target:
                                      description: The target Region or the Amazon
                                        Resource Name (ARN) of the target Outpost
                                        for the snapshot copies.
                                      type: string
                                  type: object
                                type: array
                              deprecateRule:
                                description: See the deprecate_rule block. Max of
                                  1 per schedule.
                                items:
                                  properties:
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              fastRestoreRule:
                                description: See the fast_restore_rule block. Max
                                  of 1 per schedule.
                                items:
                                  properties:
                                    availabilityZones:
                                      description: The Availability Zones in which
                                        to enable fast snapshot restore.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              name:
                                description: A descriptive name for the action.
                                type: string
                              retainRule:
                                description: Specifies the retention rule for cross-Region
                                  snapshot copies. See the retain_rule block. Max
                                  of 1 per action.
                                items:
                                  properties:
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              shareRule:
                                description: See the share_rule block. Max of 1 per
                                  schedule.
                                items:
                                  properties:
                                    targetAccounts:
                                      description: The IDs of the AWS accounts with
                                        which to share the snapshots.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                    unshareInterval:
                                      description: The period after which snapshots
                                        that are shared with other AWS accounts are
                                        automatically unshared.
                                      type: number
                                    unshareIntervalUnit:
                                      description: The unit of time for the automatic
                                        unsharing interval. Valid values are DAYS,
                                        WEEKS, MONTHS, YEARS.
                                      type: string
                                  type: object
                                type: array
                              tagsToAdd:
                                additionalProperties:
                                  type: string
                                description: A map of tag keys and their values. DLM
                                  lifecycle policies will already tag the snapshot
                                  with the tags on the volume. This configuration
                                  adds extra tags on top of these.
                                type: object
                                x-kubernetes-map-type: granular
                              variableTags:
                                additionalProperties:
                                  type: string
                                description: A map of tag keys and variable values,
                                  where the values are determined when the policy
                                  is executed. Only $(instance-id) or $(timestamp)
                                  are valid values. Can only be used when resource_types
                                  is INSTANCE.
                                type: object
                                x-kubernetes-map-type: granular
                            type: object
                          type: array
                        targetTags:
                          additionalProperties:
                            type: string
                          description: A map of tag keys and their values. Any resources
                            that match the resource_types and are tagged with any
                            of these tags will be targeted.
                          type: object
                          x-kubernetes-map-type: granular
                      type: object
                    type: array
                  region:
                    description: |-
                      Region where this resource will be managed. Defaults to the Region set in the provider configuration.
                      Region is the region you'd like your resource to be created in.
                    type: string
                  state:
                    description: Whether the lifecycle policy should be enabled or
                      disabled. ENABLED or DISABLED are valid values. Defaults to
                      ENABLED.
                    type: string
                  tags:
                    additionalProperties:
                      type: string
                    description: Key-value map of resource tags.
                    type: object
                    x-kubernetes-map-type: granular
                required:
                - region
                type: object
              initProvider:
                description: |-
                  THIS IS A BETA FIELD. It will be honored
                  unless the Management Policies feature flag is disabled.
                  InitProvider holds the same fields as ForProvider, with the exception
                  of Identifier and other resource reference fields. The fields that are
                  in InitProvider are merged into ForProvider when the resource is created.
                  The same fields are also added to the terraform ignore_changes hook, to
                  avoid updating them after creation. This is useful for fields that are
                  required on creation, but we do not desire to update them after creation,
                  for example because of an external controller is managing them, like an
                  autoscaler.
                properties:
                  description:
                    description: A description for the DLM lifecycle policy.
                    type: string
                  executionRoleArn:
                    description: The ARN of an IAM role that is able to be assumed
                      by the DLM service.
                    type: string
                  executionRoleArnRef:
                    description: Reference to a Role in iam to populate executionRoleArn.
                    properties:
                      name:
                        description: Name of the referenced object.
                        type: string
                      policy:
                        description: Policies for referencing.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    required:
                    - name
                    type: object
                  executionRoleArnSelector:
                    description: Selector for a Role in iam to populate executionRoleArn.
                    properties:
                      matchControllerRef:
                        description: |-
                          MatchControllerRef ensures an object with the same controller reference
                          as the selecting object is selected.
                        type: boolean
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: MatchLabels ensures an object with matching labels
                          is selected.
                        type: object
                      policy:
                        description: Policies for selection.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    type: object
                  policyDetails:
                    description: See the policy_details configuration block. Max of
                      1.
                    items:
                      properties:
                        action:
                          description: The actions to be performed when the event-based
                            policy is triggered. You can specify only one action per
                            policy. This parameter is required for event-based policies
                            only. If you are creating a snapshot or AMI policy, omit
                            this parameter. See the action configuration block.
                          items:
                            properties:
                              crossRegionCopy:
                                description: The rule for copying shared snapshots
                                  across Regions. See the cross_region_copy configuration
                                  block.
                                items:
                                  properties:
                                    encryptionConfiguration:
                                      description: The encryption settings for the
                                        copied snapshot. See the encryption_configuration
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          cmkArn:
                                            description: The Amazon Resource Name
                                              (ARN) of the AWS KMS key to use for
                                              EBS encryption. If this parameter is
                                              not specified, the default KMS key for
                                              the account is used.
                                            type: string
                                          encrypted:
                                            description: To encrypt a copy of an unencrypted
                                              snapshot when encryption by default
                                              is not enabled, enable encryption using
                                              this parameter. Copies of encrypted
                                              snapshots are encrypted, even if this
                                              parameter is false or when encryption
                                              by default is not enabled.
                                            type: boolean
                                        type: object
                                      type: array
                                    retainRule:
                                      description: Specifies the retention rule for
                                        cross-Region snapshot copies. See the retain_rule
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    target:
                                      description: The target Region or the Amazon
                                        Resource Name (ARN) of the target Outpost
                                        for the snapshot copies.
                                      type: string
                                  type: object
                                type: array
                              name:
                                description: A descriptive name for the action.
                                type: string
                            type: object
                          type: array
                        eventSource:
                          description: The event that triggers the event-based policy.
                            This parameter is required for event-based policies only.
                            If you are creating a snapshot or AMI policy, omit this
                            parameter. See the event_source configuration block.
                          items:
                            properties:
                              parameters:
                                description: A set of optional parameters for snapshot
                                  and AMI lifecycle policies. See the parameters configuration
                                  block.
                                items:
                                  properties:
                                    descriptionRegex:
                                      description: The snapshot description that can
                                        trigger the policy. The description pattern
                                        is specified using a regular expression. The
                                        policy runs only if a snapshot with a description
                                        that matches the specified pattern is shared
                                        with your account.
                                      type: string
                                    eventType:
                                      description: The type of event. Currently, only
                                        shareSnapshot events are supported.
                                      type: string
                                    snapshotOwner:
                                      description: The IDs of the AWS accounts that
                                        can trigger policy by sharing snapshots with
                                        your account. The policy only runs if one
                                        of the specified AWS accounts shares a snapshot
                                        with your account.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                  type: object
                                type: array
                              type:
                                description: The source of the event. Currently only
                                  managed CloudWatch Events rules are supported. Valid
                                  values are MANAGED_CWE.
                                type: string
                            type: object
                          type: array
                        parameters:
                          description: A set of optional parameters for snapshot and
                            AMI lifecycle policies. See the parameters configuration
                            block.
                          items:
                            properties:
                              excludeBootVolume:
                                description: Indicates whether to exclude the root
                                  volume from snapshots created using CreateSnapshots.
                                  The default is false.
                                type: boolean
                              noReboot:
                                description: Applies to AMI lifecycle policies only.
                                  Indicates whether targeted instances are rebooted
                                  when the lifecycle policy runs. true indicates that
                                  targeted instances are not rebooted when the policy
                                  runs. false indicates that target instances are
                                  rebooted when the policy runs. The default is true
                                  (instances are not rebooted).
                                type: boolean
                            type: object
                          type: array
                        policyType:
                          description: The valid target resource types and actions
                            a policy can manage. Specify EBS_SNAPSHOT_MANAGEMENT to
                            create a lifecycle policy that manages the lifecycle of
                            Amazon EBS snapshots. Specify IMAGE_MANAGEMENT to create
                            a lifecycle policy that manages the lifecycle of EBS-backed
                            AMIs. Specify EVENT_BASED_POLICY to create an event-based
                            policy that performs specific actions when a defined event
                            occurs in your AWS account. Default value is EBS_SNAPSHOT_MANAGEMENT.
                          type: string
                        resourceLocations:
                          description: The location of the resources to backup. If
                            the source resources are located in an AWS Region, specify
                            CLOUD. If the source resources are located on an Outpost
                            in your account, specify OUTPOST. If you specify OUTPOST,
                            Amazon Data Lifecycle Manager backs up all resources of
                            the specified type with matching target tags across all
                            of the Outposts in your account. Valid values are CLOUD
                            and OUTPOST.
                          items:
                            type: string
                          type: array
                        resourceTypes:
                          description: A list of resource types that should be targeted
                            by the lifecycle policy. Valid values are VOLUME and INSTANCE.
                          items:
                            type: string
                          type: array
                        schedule:
                          description: See the schedule configuration block.
                          items:
                            properties:
                              copyTags:
                                description: Copy all user-defined tags on a source
                                  volume to snapshots of the volume created by this
                                  policy.
                                type: boolean
                              createRule:
                                description: See the create_rule block. Max of 1 per
                                  schedule.
                                items:
                                  properties:
                                    cronExpression:
                                      description: The schedule, as a Cron expression.
                                        The schedule interval must be between 1 hour
                                        and 1 year. Conflicts with interval, interval_unit,
                                        and times.
                                      type: string
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                    location:
                                      description: Specifies the destination for snapshots
                                        created by the policy. To create snapshots
                                        in the same Region as the source resource,
                                        specify CLOUD. To create snapshots on the
                                        same Outpost as the source resource, specify
                                        OUTPOST_LOCAL. If you omit this parameter,
                                        CLOUD is used by default. If the policy targets
                                        resources in an AWS Region, then you must
                                        create snapshots in the same Region as the
                                        source resource. If the policy targets resources
                                        on an Outpost, then you can create snapshots
                                        on the same Outpost as the source resource,
                                        or in the Region of that Outpost. Valid values
                                        are CLOUD and OUTPOST_LOCAL.
                                      type: string
                                    times:
                                      description: A list of times in 24 hour clock
                                        format that sets when the lifecycle policy
                                        should be evaluated. Max of 1. Conflicts with
                                        cron_expression. Must be set if interval is
                                        set.
                                      items:
                                        type: string
                                      type: array
                                  type: object
                                type: array
                              crossRegionCopyRule:
                                description: See the cross_region_copy_rule block.
                                  Max of 3 per schedule.
                                items:
                                  properties:
                                    cmkArn:
                                      description: The Amazon Resource Name (ARN)
                                        of the AWS KMS key to use for EBS encryption.
                                        If this parameter is not specified, the default
                                        KMS key for the account is used.
                                      type: string
                                    cmkArnRef:
                                      description: Reference to a Key in kms to populate
                                        cmkArn.
                                      properties:
                                        name:
                                          description: Name of the referenced object.
                                          type: string
                                        policy:
                                          description: Policies for referencing.
                                          properties:
                                            resolution:
                                              default: Required
                                              description: |-
                                                Resolution specifies whether resolution of this reference is required.
                                                The default is 'Required', which means the reconcile will fail if the
                                                reference cannot be resolved. 'Optional' means this reference will be
                                                a no-op if it cannot be resolved.
                                              enum:
                                              - Required
                                              - Optional
                                              type: string
                                            resolve:
                                              description: |-
                                                Resolve specifies when this reference should be resolved. The default
                                                is 'IfNotPresent', which will attempt to resolve the reference only when
                                                the corresponding field is not present. Use 'Always' to resolve the
                                                reference on every reconcile.
                                              enum:
                                              - Always
                                              - IfNotPresent
                                              type: string
                                          type: object
                                      required:
                                      - name
                                      type: object
                                    cmkArnSelector:
                                      description: Selector for a Key in kms to populate
                                        cmkArn.
                                      properties:
                                        matchControllerRef:
                                          description: |-
                                            MatchControllerRef ensures an object with the same controller reference
                                            as the selecting object is selected.
                                          type: boolean
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: MatchLabels ensures an object
                                            with matching labels is selected.
                                          type: object
                                        policy:
                                          description: Policies for selection.
                                          properties:
                                            resolution:
                                              default: Required
                                              description: |-
                                                Resolution specifies whether resolution of this reference is required.
                                                The default is 'Required', which means the reconcile will fail if the
                                                reference cannot be resolved. 'Optional' means this reference will be
                                                a no-op if it cannot be resolved.
                                              enum:
                                              - Required
                                              - Optional
                                              type: string
                                            resolve:
                                              description: |-
                                                Resolve specifies when this reference should be resolved. The default
                                                is 'IfNotPresent', which will attempt to resolve the reference only when
                                                the corresponding field is not present. Use 'Always' to resolve the
                                                reference on every reconcile.
                                              enum:
                                              - Always
                                              - IfNotPresent
                                              type: string
                                          type: object
                                      type: object
                                    copyTags:
                                      description: Copy all user-defined tags on a
                                        source volume to snapshots of the volume created
                                        by this policy.
                                      type: boolean
                                    deprecateRule:
                                      description: See the deprecate_rule block. Max
                                        of 1 per schedule.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    encrypted:
                                      description: To encrypt a copy of an unencrypted
                                        snapshot when encryption by default is not
                                        enabled, enable encryption using this parameter.
                                        Copies of encrypted snapshots are encrypted,
                                        even if this parameter is false or when encryption
                                        by default is not enabled.
                                      type: boolean
                                    retainRule:
                                      description: Specifies the retention rule for
                                        cross-Region snapshot copies. See the retain_rule
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    target:
                                      description: The target Region or the Amazon
                                        Resource Name (ARN) of the target Outpost
                                        for the snapshot copies.
                                      type: string
                                  type: object
                                type: array
                              deprecateRule:
                                description: See the deprecate_rule block. Max of
                                  1 per schedule.
                                items:
                                  properties:
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              fastRestoreRule:
                                description: See the fast_restore_rule block. Max
                                  of 1 per schedule.
                                items:
                                  properties:
                                    availabilityZones:
                                      description: The Availability Zones in which
                                        to enable fast snapshot restore.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              name:
                                description: A descriptive name for the action.
                                type: string
                              retainRule:
                                description: Specifies the retention rule for cross-Region
                                  snapshot copies. See the retain_rule block. Max
                                  of 1 per action.
                                items:
                                  properties:
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              shareRule:
                                description: See the share_rule block. Max of 1 per
                                  schedule.
                                items:
                                  properties:
                                    targetAccounts:
                                      description: The IDs of the AWS accounts with
                                        which to share the snapshots.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                    unshareInterval:
                                      description: The period after which snapshots
                                        that are shared with other AWS accounts are
                                        automatically unshared.
                                      type: number
                                    unshareIntervalUnit:
                                      description: The unit of time for the automatic
                                        unsharing interval. Valid values are DAYS,
                                        WEEKS, MONTHS, YEARS.
                                      type: string
                                  type: object
                                type: array
                              tagsToAdd:
                                additionalProperties:
                                  type: string
                                description: A map of tag keys and their values. DLM
                                  lifecycle policies will already tag the snapshot
                                  with the tags on the volume. This configuration
                                  adds extra tags on top of these.
                                type: object
                                x-kubernetes-map-type: granular
                              variableTags:
                                additionalProperties:
                                  type: string
                                description: A map of tag keys and variable values,
                                  where the values are determined when the policy
                                  is executed. Only $(instance-id) or $(timestamp)
                                  are valid values. Can only be used when resource_types
                                  is INSTANCE.
                                type: object
                                x-kubernetes-map-type: granular
                            type: object
                          type: array
                        targetTags:
                          additionalProperties:
                            type: string
                          description: A map of tag keys and their values. Any resources
                            that match the resource_types and are tagged with any
                            of these tags will be targeted.
                          type: object
                          x-kubernetes-map-type: granular
                      type: object
                    type: array
                  state:
                    description: Whether the lifecycle policy should be enabled or
                      disabled. ENABLED or DISABLED are valid values. Defaults to
                      ENABLED.
                    type: string
                  tags:
                    additionalProperties:
                      type: string
                    description: Key-value map of resource tags.
                    type: object
                    x-kubernetes-map-type: granular
                type: object
              managementPolicies:
                default:
                - '*'
                description: |-
                  THIS IS A BETA FIELD. It is on by default but can be opted out
                  through a Crossplane feature flag.
                  ManagementPolicies specify the array of actions Crossplane is allowed to
                  take on the managed and external resources.
                  This field is planned to replace the DeletionPolicy field in a future
                  release. Currently, both could be set independently and non-default
                  values would be honored if the feature flag is enabled. If both are
                  custom, the DeletionPolicy field will be ignored.
                  See the design doc for more information: https://github.com/crossplane/crossplane/blob/499895a25d1a1a0ba1604944ef98ac7a1a71f197/design/design-doc-observe-only-resources.md?plain=1#L223
                  and this one: https://github.com/crossplane/crossplane/blob/444267e84783136daa93568b364a5f01228cacbe/design/one-pager-ignore-changes.md
                items:
                  description: |-
                    A ManagementAction represents an action that the Crossplane controllers
                    can take on an external resource.
                  enum:
                  - Observe
                  - Create
                  - Update
                  - Delete
                  - LateInitialize
                  - '*'
                  type: string
                type: array
              providerConfigRef:
                default:
                  name: default
                description: |-
                  ProviderConfigReference specifies how the provider that will be used to
                  create, observe, update, and delete this managed resource should be
                  configured.
                properties:
                  name:
                    description: Name of the referenced object.
                    type: string
                  policy:
                    description: Policies for referencing.
                    properties:
                      resolution:
                        default: Required
                        description: |-
                          Resolution specifies whether resolution of this reference is required.
                          The default is 'Required', which means the reconcile will fail if the
                          reference cannot be resolved. 'Optional' means this reference will be
                          a no-op if it cannot be resolved.
                        enum:
                        - Required
                        - Optional
                        type: string
                      resolve:
                        description: |-
                          Resolve specifies when this reference should be resolved. The default
                          is 'IfNotPresent', which will attempt to resolve the reference only when
                          the corresponding field is not present. Use 'Always' to resolve the
                          reference on every reconcile.
                        enum:
                        - Always
                        - IfNotPresent
                        type: string
                    type: object
                required:
                - name
                type: object
              writeConnectionSecretToRef:
                description: |-
                  WriteConnectionSecretToReference specifies the namespace and name of a
                  Secret to which any connection details for this managed resource should
                  be written. Connection details frequently include the endpoint, username,
                  and password required to connect to the managed resource.
                properties:
                  name:
                    description: Name of the secret.
                    type: string
                  namespace:
                    description: Namespace of the secret.
                    type: string
                required:
                - name
                - namespace
                type: object
            required:
            - forProvider
            type: object
            x-kubernetes-validations:
            - message: spec.forProvider.description is a required parameter
              rule: '!(''*'' in self.managementPolicies || ''Create'' in self.managementPolicies
                || ''Update'' in self.managementPolicies) || has(self.forProvider.description)
                || (has(self.initProvider) && has(self.initProvider.description))'
            - message: spec.forProvider.policyDetails is a required parameter
              rule: '!(''*'' in self.managementPolicies || ''Create'' in self.managementPolicies
                || ''Update'' in self.managementPolicies) || has(self.forProvider.policyDetails)
                || (has(self.initProvider) && has(self.initProvider.policyDetails))'
          status:
            description: LifecyclePolicyStatus defines the observed state of LifecyclePolicy.
            properties:
              atProvider:
                properties:
                  arn:
                    description: Amazon Resource Name (ARN) of the DLM Lifecycle Policy.
                    type: string
                  description:
                    description: A description for the DLM lifecycle policy.
                    type: string
                  executionRoleArn:
                    description: The ARN of an IAM role that is able to be assumed
                      by the DLM service.
                    type: string
                  id:
                    description: Identifier of the DLM Lifecycle Policy.
                    type: string
                  policyDetails:
                    description: See the policy_details configuration block. Max of
                      1.
                    items:
                      properties:
                        action:
                          description: The actions to be performed when the event-based
                            policy is triggered. You can specify only one action per
                            policy. This parameter is required for event-based policies
                            only. If you are creating a snapshot or AMI policy, omit
                            this parameter. See the action configuration block.
                          items:
                            properties:
                              crossRegionCopy:
                                description: The rule for copying shared snapshots
                                  across Regions. See the cross_region_copy configuration
                                  block.
                                items:
                                  properties:
                                    encryptionConfiguration:
                                      description: The encryption settings for the
                                        copied snapshot. See the encryption_configuration
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          cmkArn:
                                            description: The Amazon Resource Name
                                              (ARN) of the AWS KMS key to use for
                                              EBS encryption. If this parameter is
                                              not specified, the default KMS key for
                                              the account is used.
                                            type: string
                                          encrypted:
                                            description: To encrypt a copy of an unencrypted
                                              snapshot when encryption by default
                                              is not enabled, enable encryption using
                                              this parameter. Copies of encrypted
                                              snapshots are encrypted, even if this
                                              parameter is false or when encryption
                                              by default is not enabled.
                                            type: boolean
                                        type: object
                                      type: array
                                    retainRule:
                                      description: Specifies the retention rule for
                                        cross-Region snapshot copies. See the retain_rule
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    target:
                                      description: The target Region or the Amazon
                                        Resource Name (ARN) of the target Outpost
                                        for the snapshot copies.
                                      type: string
                                  type: object
                                type: array
                              name:
                                description: A descriptive name for the action.
                                type: string
                            type: object
                          type: array
                        eventSource:
                          description: The event that triggers the event-based policy.
                            This parameter is required for event-based policies only.
                            If you are creating a snapshot or AMI policy, omit this
                            parameter. See the event_source configuration block.
                          items:
                            properties:
                              parameters:
                                description: A set of optional parameters for snapshot
                                  and AMI lifecycle policies. See the parameters configuration
                                  block.
                                items:
                                  properties:
                                    descriptionRegex:
                                      description: The snapshot description that can
                                        trigger the policy. The description pattern
                                        is specified using a regular expression. The
                                        policy runs only if a snapshot with a description
                                        that matches the specified pattern is shared
                                        with your account.
                                      type: string
                                    eventType:
                                      description: The type of event. Currently, only
                                        shareSnapshot events are supported.
                                      type: string
                                    snapshotOwner:
                                      description: The IDs of the AWS accounts that
                                        can trigger policy by sharing snapshots with
                                        your account. The policy only runs if one
                                        of the specified AWS accounts shares a snapshot
                                        with your account.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                  type: object
                                type: array
                              type:
                                description: The source of the event. Currently only
                                  managed CloudWatch Events rules are supported. Valid
                                  values are MANAGED_CWE.
                                type: string
                            type: object
                          type: array
                        parameters:
                          description: A set of optional parameters for snapshot and
                            AMI lifecycle policies. See the parameters configuration
                            block.
                          items:
                            properties:
                              excludeBootVolume:
                                description: Indicates whether to exclude the root
                                  volume from snapshots created using CreateSnapshots.
                                  The default is false.
                                type: boolean
                              noReboot:
                                description: Applies to AMI lifecycle policies only.
                                  Indicates whether targeted instances are rebooted
                                  when the lifecycle policy runs. true indicates that
                                  targeted instances are not rebooted when the policy
                                  runs. false indicates that target instances are
                                  rebooted when the policy runs. The default is true
                                  (instances are not rebooted).
                                type: boolean
                            type: object
                          type: array
                        policyType:
                          description: The valid target resource types and actions
                            a policy can manage. Specify EBS_SNAPSHOT_MANAGEMENT to
                            create a lifecycle policy that manages the lifecycle of
                            Amazon EBS snapshots. Specify IMAGE_MANAGEMENT to create
                            a lifecycle policy that manages the lifecycle of EBS-backed
                            AMIs. Specify EVENT_BASED_POLICY to create an event-based
                            policy that performs specific actions when a defined event
                            occurs in your AWS account. Default value is EBS_SNAPSHOT_MANAGEMENT.
                          type: string
                        resourceLocations:
                          description: The location of the resources to backup. If
                            the source resources are located in an AWS Region, specify
                            CLOUD. If the source resources are located on an Outpost
                            in your account, specify OUTPOST. If you specify OUTPOST,
                            Amazon Data Lifecycle Manager backs up all resources of
                            the specified type with matching target tags across all
                            of the Outposts in your account. Valid values are CLOUD
                            and OUTPOST.
                          items:
                            type: string
                          type: array
                        resourceTypes:
                          description: A list of resource types that should be targeted
                            by the lifecycle policy. Valid values are VOLUME and INSTANCE.
                          items:
                            type: string
                          type: array
                        schedule:
                          description: See the schedule configuration block.
                          items:
                            properties:
                              copyTags:
                                description: Copy all user-defined tags on a source
                                  volume to snapshots of the volume created by this
                                  policy.
                                type: boolean
                              createRule:
                                description: See the create_rule block. Max of 1 per
                                  schedule.
                                items:
                                  properties:
                                    cronExpression:
                                      description: The schedule, as a Cron expression.
                                        The schedule interval must be between 1 hour
                                        and 1 year. Conflicts with interval, interval_unit,
                                        and times.
                                      type: string
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                    location:
                                      description: Specifies the destination for snapshots
                                        created by the policy. To create snapshots
                                        in the same Region as the source resource,
                                        specify CLOUD. To create snapshots on the
                                        same Outpost as the source resource, specify
                                        OUTPOST_LOCAL. If you omit this parameter,
                                        CLOUD is used by default. If the policy targets
                                        resources in an AWS Region, then you must
                                        create snapshots in the same Region as the
                                        source resource. If the policy targets resources
                                        on an Outpost, then you can create snapshots
                                        on the same Outpost as the source resource,
                                        or in the Region of that Outpost. Valid values
                                        are CLOUD and OUTPOST_LOCAL.
                                      type: string
                                    times:
                                      description: A list of times in 24 hour clock
                                        format that sets when the lifecycle policy
                                        should be evaluated. Max of 1. Conflicts with
                                        cron_expression. Must be set if interval is
                                        set.
                                      items:
                                        type: string
                                      type: array
                                  type: object
                                type: array
                              crossRegionCopyRule:
                                description: See the cross_region_copy_rule block.
                                  Max of 3 per schedule.
                                items:
                                  properties:
                                    cmkArn:
                                      description: The Amazon Resource Name (ARN)
                                        of the AWS KMS key to use for EBS encryption.
                                        If this parameter is not specified, the default
                                        KMS key for the account is used.
                                      type: string
                                    copyTags:
                                      description: Copy all user-defined tags on a
                                        source volume to snapshots of the volume created
                                        by this policy.
                                      type: boolean
                                    deprecateRule:
                                      description: See the deprecate_rule block. Max
                                        of 1 per schedule.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    encrypted:
                                      description: To encrypt a copy of an unencrypted
                                        snapshot when encryption by default is not
                                        enabled, enable encryption using this parameter.
                                        Copies of encrypted snapshots are encrypted,
                                        even if this parameter is false or when encryption
                                        by default is not enabled.
                                      type: boolean
                                    retainRule:
                                      description: Specifies the retention rule for
                                        cross-Region snapshot copies. See the retain_rule
                                        block. Max of 1 per action.
                                      items:
                                        properties:
                                          interval:
                                            description: How often this lifecycle
                                              policy should be evaluated. 1, 2,3,4,6,8,12
                                              or 24 are valid values. Conflicts with
                                              cron_expression. If set, interval_unit
                                              and times must also be set.
                                            type: number
                                          intervalUnit:
                                            description: The unit for how often the
                                              lifecycle policy should be evaluated.
                                              HOURS is currently the only allowed
                                              value and also the default value. Conflicts
                                              with cron_expression. Must be set if
                                              interval is set.
                                            type: string
                                        type: object
                                      type: array
                                    target:
                                      description: The target Region or the Amazon
                                        Resource Name (ARN) of the target Outpost
                                        for the snapshot copies.
                                      type: string
                                  type: object
                                type: array
                              deprecateRule:
                                description: See the deprecate_rule block. Max of
                                  1 per schedule.
                                items:
                                  properties:
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              fastRestoreRule:
                                description: See the fast_restore_rule block. Max
                                  of 1 per schedule.
                                items:
                                  properties:
                                    availabilityZones:
                                      description: The Availability Zones in which
                                        to enable fast snapshot restore.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              name:
                                description: A descriptive name for the action.
                                type: string
                              retainRule:
                                description: Specifies the retention rule for cross-Region
                                  snapshot copies. See the retain_rule block. Max
                                  of 1 per action.
                                items:
                                  properties:
                                    count:
                                      description: Specifies the number of oldest
                                        AMIs to deprecate. Must be an integer between
                                        1 and 1000. Conflicts with interval and interval_unit.
                                      type: number
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                type: array
                              shareRule:
                                description: See the share_rule block. Max of 1 per
                                  schedule.
                                items:
                                  properties:
                                    targetAccounts:
                                      description: The IDs of the AWS accounts with
                                        which to share the snapshots.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: set
                                    unshareInterval:
                                      description: The period after which snapshots
                                        that are shared with other AWS accounts are
                                        automatically unshared.
                                      type: number
                                    unshareIntervalUnit:
                                      description: The unit of time for the automatic
                                        unsharing interval. Valid values are DAYS,
                                        WEEKS, MONTHS, YEARS.
                                      type: string
                                  type: object
                                type: array
                              tagsToAdd:
                                additionalProperties:
                                  type: string
                                description: A map of tag keys and their values. DLM
                                  lifecycle policies will already tag the snapshot
                                  with the tags on the volume. This configuration
                                  adds extra tags on top of these.
                                type: object
                                x-kubernetes-map-type: granular
                              variableTags:
                                additionalProperties:
                                  type: string
                                description: A map of tag keys and variable values,
                                  where the values are determined when the policy
                                  is executed. Only $(instance-id) or $(timestamp)
                                  are valid values. Can only be used when resource_types
                                  is INSTANCE.
                                type: object
                                x-kubernetes-map-type: granular
                            type: object
                          type: array
                        targetTags:
                          additionalProperties:
                            type: string
                          description: A map of tag keys and their values. Any resources
                            that match the resource_types and are tagged with any
                            of these tags will be targeted.
                          type: object
                          x-kubernetes-map-type: granular
                      type: object
                    type: array
                  region:
                    description: |-
                      Region where this resource will be managed. Defaults to the Region set in the provider configuration.
                      Region is the region you'd like your resource to be created in.
                    type: string
                  state:
                    description: Whether the lifecycle policy should be enabled or
                      disabled. ENABLED or DISABLED are valid values. Defaults to
                      ENABLED.
                    type: string
                  tags:
                    additionalProperties:
                      type: string
                    description: Key-value map of resource tags.
                    type: object
                    x-kubernetes-map-type: granular
                  tagsAll:
                    additionalProperties:
                      type: string
                    description: A map of tags assigned to the resource, including
                      those inherited from the provider default_tags configuration
                      block.
                    type: object
                    x-kubernetes-map-type: granular
                type: object
              conditions:
                description: Conditions of the resource.
                items:
                  description: A Condition that may apply to a resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        LastTransitionTime is the last time this condition transitioned from one
                        status to another.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        A Message containing details about this condition's last transition from
                        one status to another, if any.
                      type: string
                    observedGeneration:
                      description: |-
                        ObservedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: A Reason for this condition's last transition from
                        one status to another.
                      type: string
                    status:
                      description: Status of this condition; is it currently True,
                        False, or Unknown?
                      type: string
                    type:
                      description: |-
                        Type of this condition. At most one of each condition type may apply to
                        a resource at any point in time.
                      type: string
                  required:
                  - lastTransitionTime
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: |-
                  ObservedGeneration is the latest metadata.generation
                  which resulted in either a ready state, or stalled due to error
                  it can not recover from without human intervention.
                format: int64
                type: integer
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=='Synced')].status
      name: SYNCED
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: READY
      type: string
    - jsonPath: .metadata.annotations.crossplane\.io/external-name
      name: EXTERNAL-NAME
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1beta2
    schema:
      openAPIV3Schema:
        description: LifecyclePolicy is the Schema for the LifecyclePolicys API. Provides
          a Data Lifecycle Manager (DLM) lifecycle policy for managing snapshots.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: LifecyclePolicySpec defines the desired state of LifecyclePolicy
            properties:
              deletionPolicy:
                default: Delete
                description: |-
                  DeletionPolicy specifies what will happen to the underlying external
                  when this managed resource is deleted - either "Delete" or "Orphan" the
                  external resource.
                  This field is planned to be deprecated in favor of the ManagementPolicies
                  field in a future release. Currently, both could be set independently and
                  non-default values would be honored if the feature flag is enabled.
                  See the design doc for more information: https://github.com/crossplane/crossplane/blob/499895a25d1a1a0ba1604944ef98ac7a1a71f197/design/design-doc-observe-only-resources.md?plain=1#L223
                enum:
                - Orphan
                - Delete
                type: string
              forProvider:
                properties:
                  defaultPolicy:
                    description: Specify the type of default policy to create. valid
                      values are VOLUME or INSTANCE.
                    type: string
                  description:
                    description: A description for the DLM lifecycle policy.
                    type: string
                  executionRoleArn:
                    description: The ARN of an IAM role that is able to be assumed
                      by the DLM service.
                    type: string
                  executionRoleArnRef:
                    description: Reference to a Role in iam to populate executionRoleArn.
                    properties:
                      name:
                        description: Name of the referenced object.
                        type: string
                      policy:
                        description: Policies for referencing.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    required:
                    - name
                    type: object
                  executionRoleArnSelector:
                    description: Selector for a Role in iam to populate executionRoleArn.
                    properties:
                      matchControllerRef:
                        description: |-
                          MatchControllerRef ensures an object with the same controller reference
                          as the selecting object is selected.
                        type: boolean
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: MatchLabels ensures an object with matching labels
                          is selected.
                        type: object
                      policy:
                        description: Policies for selection.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    type: object
                  policyDetails:
                    description: See the policy_details configuration block. Max of
                      1.
                    properties:
                      action:
                        description: The actions to be performed when the event-based
                          policy is triggered. You can specify only one action per
                          policy. This parameter is required for event-based policies
                          only. If you are creating a snapshot or AMI policy, omit
                          this parameter. See the action configuration block.
                        properties:
                          crossRegionCopy:
                            description: The rule for copying shared snapshots across
                              Regions. See the cross_region_copy configuration block.
                            items:
                              properties:
                                encryptionConfiguration:
                                  description: The encryption settings for the copied
                                    snapshot. See the encryption_configuration block.
                                    Max of 1 per action.
                                  properties:
                                    cmkArn:
                                      description: The Amazon Resource Name (ARN)
                                        of the AWS KMS key to use for EBS encryption.
                                        If this parameter is not specified, the default
                                        KMS key for the account is used.
                                      type: string
                                    encrypted:
                                      description: To encrypt a copy of an unencrypted
                                        snapshot when encryption by default is not
                                        enabled, enable encryption using this parameter.
                                        Copies of encrypted snapshots are encrypted,
                                        even if this parameter is false or when encryption
                                        by default is not enabled.
                                      type: boolean
                                  type: object
                                retainRule:
                                  description: Specifies the retention rule for cross-Region
                                    snapshot copies. See the retain_rule block. Max
                                    of 1 per action.
                                  properties:
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                target:
                                  description: The target Region or the Amazon Resource
                                    Name (ARN) of the target Outpost for the snapshot
                                    copies.
                                  type: string
                              type: object
                            type: array
                          name:
                            description: A descriptive name for the action.
                            type: string
                        type: object
                      copyTags:
                        description: Indicates whether the policy should copy tags
                          from the source resource to the snapshot or AMI. Default
                          value is false.
                        type: boolean
                      createInterval:
                        description: How often the policy should run and create snapshots
                          or AMIs. valid values range from 1 to 7. Default value is
                          1.
                        type: number
                      eventSource:
                        description: The event that triggers the event-based policy.
                          This parameter is required for event-based policies only.
                          If you are creating a snapshot or AMI policy, omit this
                          parameter. See the event_source configuration block.
                        properties:
                          parameters:
                            description: A set of optional parameters for snapshot
                              and AMI lifecycle policies. See the parameters configuration
                              block.
                            properties:
                              descriptionRegex:
                                description: The snapshot description that can trigger
                                  the policy. The description pattern is specified
                                  using a regular expression. The policy runs only
                                  if a snapshot with a description that matches the
                                  specified pattern is shared with your account.
                                type: string
                              eventType:
                                description: The type of event. Currently, only shareSnapshot
                                  events are supported.
                                type: string
                              snapshotOwner:
                                description: The IDs of the AWS accounts that can
                                  trigger policy by sharing snapshots with your account.
                                  The policy only runs if one of the specified AWS
                                  accounts shares a snapshot with your account.
                                items:
                                  type: string
                                type: array
                                x-kubernetes-list-type: set
                            type: object
                          type:
                            description: The source of the event. Currently only managed
                              CloudWatch Events rules are supported. Valid values
                              are MANAGED_CWE.
                            type: string
                        type: object
                      exclusions:
                        description: Specifies exclusion parameters for volumes or
                          instances for which you do not want to create snapshots
                          or AMIs.  See the exclusions configuration block.
                        properties:
                          excludeBootVolumes:
                            description: Indicates whether to exclude volumes that
                              are attached to instances as the boot volume. To exclude
                              boot volumes, specify true.
                            type: boolean
                          excludeTags:
                            additionalProperties:
                              type: string
                            description: Map specifies whether to exclude volumes
                              that have specific tags.
                            type: object
                            x-kubernetes-map-type: granular
                          excludeVolumeTypes:
                            description: List specifies the volume types to exclude.
                            items:
                              type: string
                            type: array
                        type: object
                      extendDeletion:
                        description: snapshot or AMI retention behavior for the policy
                          if the source volume or instance is deleted, or if the policy
                          enters the error, disabled, or deleted state. Default value
                          is false.
                        type: boolean
                      parameters:
                        description: A set of optional parameters for snapshot and
                          AMI lifecycle policies. See the parameters configuration
                          block.
                        properties:
                          excludeBootVolume:
                            description: Indicates whether to exclude the root volume
                              from snapshots created using CreateSnapshots. The default
                              is false.
                            type: boolean
                          noReboot:
                            description: Applies to AMI lifecycle policies only. Indicates
                              whether targeted instances are rebooted when the lifecycle
                              policy runs. true indicates that targeted instances
                              are not rebooted when the policy runs. false indicates
                              that target instances are rebooted when the policy runs.
                              The default is true (instances are not rebooted).
                            type: boolean
                        type: object
                      policyLanguage:
                        description: Type of policy to create. SIMPLIFIED To create
                          a default policy. STANDARD To create a custom policy.
                        type: string
                      policyType:
                        description: The valid target resource types and actions a
                          policy can manage. Specify EBS_SNAPSHOT_MANAGEMENT to create
                          a lifecycle policy that manages the lifecycle of Amazon
                          EBS snapshots. Specify IMAGE_MANAGEMENT to create a lifecycle
                          policy that manages the lifecycle of EBS-backed AMIs. Specify
                          EVENT_BASED_POLICY to create an event-based policy that
                          performs specific actions when a defined event occurs in
                          your AWS account. Default value is EBS_SNAPSHOT_MANAGEMENT.
                        type: string
                      resourceLocations:
                        description: The location of the resources to backup. If the
                          source resources are located in an AWS Region, specify CLOUD.
                          If the source resources are located on an Outpost in your
                          account, specify OUTPOST. If the source resources are located
                          in a Local Zone, specify LOCAL_ZONE. Valid values are CLOUD,
                          LOCAL_ZONE, and OUTPOST.
                        items:
                          type: string
                        type: array
                      resourceType:
                        description: Type of default policy to create. Valid values
                          are VOLUME and INSTANCE.
                        type: string
                      resourceTypes:
                        description: A list of resource types that should be targeted
                          by the lifecycle policy. Valid values are VOLUME and INSTANCE.
                        items:
                          type: string
                        type: array
                      retainInterval:
                        description: Specifies how long the policy should retain snapshots
                          or AMIs before deleting them. valid values range from 2
                          to 14. Default value is 7.
                        type: number
                      schedule:
                        description: See the schedule configuration block.
                        items:
                          properties:
                            archiveRule:
                              description: Specifies a snapshot archiving rule for
                                a schedule. See archive_rule block.
                              properties:
                                archiveRetainRule:
                                  description: Information about the retention period
                                    for the snapshot archiving rule. See the archive_retain_rule
                                    block.
                                  properties:
                                    retentionArchiveTier:
                                      description: Information about retention period
                                        in the Amazon EBS Snapshots Archive. See the
                                        retention_archive_tier block.
                                      properties:
                                        count:
                                          description: Specifies the number of oldest
                                            AMIs to deprecate. Must be an integer
                                            between 1 and 1000. Conflicts with interval
                                            and interval_unit.
                                          type: number
                                        interval:
                                          description: How often this lifecycle policy
                                            should be evaluated. 1, 2,3,4,6,8,12 or
                                            24 are valid values. Conflicts with cron_expression.
                                            If set, interval_unit and times must also
                                            be set.
                                          type: number
                                        intervalUnit:
                                          description: The unit for how often the
                                            lifecycle policy should be evaluated.
                                            HOURS is currently the only allowed value
                                            and also the default value. Conflicts
                                            with cron_expression. Must be set if interval
                                            is set.
                                          type: string
                                      type: object
                                  type: object
                              type: object
                            copyTags:
                              description: Indicates whether the policy should copy
                                tags from the source resource to the snapshot or AMI.
                                Default value is false.
                              type: boolean
                            createRule:
                              description: See the create_rule block. Max of 1 per
                                schedule.
                              properties:
                                cronExpression:
                                  description: The schedule, as a Cron expression.
                                    The schedule interval must be between 1 hour and
                                    1 year. Conflicts with interval, interval_unit,
                                    and times.
                                  type: string
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                                location:
                                  description: Specifies the destination for snapshots
                                    created by the policy. To create snapshots in
                                    the same Region as the source resource, specify
                                    CLOUD. To create snapshots on the same Outpost
                                    as the source resource, specify OUTPOST_LOCAL.
                                    If you omit this parameter, CLOUD is used by default.
                                    If the policy targets resources in an AWS Region,
                                    then you must create snapshots in the same Region
                                    as the source resource. If the policy targets
                                    resources on an Outpost, then you can create snapshots
                                    on the same Outpost as the source resource, or
                                    in the Region of that Outpost. Valid values are
                                    CLOUD and OUTPOST_LOCAL.
                                  type: string
                                scripts:
                                  description: Specifies pre and/or post scripts for
                                    a snapshot lifecycle policy that targets instances.
                                    Valid only when resource_type is INSTANCE. See
                                    the scripts configuration block.
                                  properties:
                                    executeOperationOnScriptFailure:
                                      description: Indicates whether Amazon Data Lifecycle
                                        Manager should default to crash-consistent
                                        snapshots if the pre script fails. The default
                                        is true.
                                      type: boolean
                                    executionHandler:
                                      description: The SSM document that includes
                                        the pre and/or post scripts to run. In case
                                        automating VSS backups, specify AWS_VSS_BACKUP.
                                        In case automating application-consistent
                                        snapshots for SAP HANA workloads, specify
                                        AWSSystemsManagerSAP-CreateDLMSnapshotForSAPHANA.
                                        If you are using a custom SSM document that
                                        you own, specify either the name or ARN of
                                        the SSM document.
                                      type: string
                                    executionHandlerService:
                                      description: Indicates the service used to execute
                                        the pre and/or post scripts. If using custom
                                        SSM documents or automating application-consistent
                                        snapshots of SAP HANA workloads, specify AWS_SYSTEMS_MANAGER.
                                        In case automating VSS Backups, omit this
                                        parameter. The default is AWS_SYSTEMS_MANAGER.
                                      type: string
                                    executionTimeout:
                                      description: Specifies a timeout period, in
                                        seconds, after which Amazon Data Lifecycle
                                        Manager fails the script run attempt if it
                                        has not completed. In case automating VSS
                                        Backups, omit this parameter. The default
                                        is 10.
                                      type: number
                                    maximumRetryCount:
                                      description: Specifies the number of times Amazon
                                        Data Lifecycle Manager should retry scripts
                                        that fail. Must be an integer between 0 and
                                        3. The default is 0.
                                      type: number
                                    stages:
                                      description: 'List to indicate which scripts
                                        Amazon Data Lifecycle Manager should run on
                                        target instances. Pre scripts run before Amazon
                                        Data Lifecycle Manager initiates snapshot
                                        creation. Post scripts run after Amazon Data
                                        Lifecycle Manager initiates snapshot creation.
                                        Valid values: PRE and POST. The default is
                                        PRE and POST'
                                      items:
                                        type: string
                                      type: array
                                  type: object
                                times:
                                  description: A list of times in 24 hour clock format
                                    that sets when the lifecycle policy should be
                                    evaluated. Max of 1. Conflicts with cron_expression.
                                    Must be set if interval is set.
                                  items:
                                    type: string
                                  type: array
                              type: object
                            crossRegionCopyRule:
                              description: See the cross_region_copy_rule block. Max
                                of 3 per schedule.
                              items:
                                properties:
                                  cmkArn:
                                    description: The Amazon Resource Name (ARN) of
                                      the AWS KMS key to use for EBS encryption. If
                                      this parameter is not specified, the default
                                      KMS key for the account is used.
                                    type: string
                                  cmkArnRef:
                                    description: Reference to a Key in kms to populate
                                      cmkArn.
                                    properties:
                                      name:
                                        description: Name of the referenced object.
                                        type: string
                                      policy:
                                        description: Policies for referencing.
                                        properties:
                                          resolution:
                                            default: Required
                                            description: |-
                                              Resolution specifies whether resolution of this reference is required.
                                              The default is 'Required', which means the reconcile will fail if the
                                              reference cannot be resolved. 'Optional' means this reference will be
                                              a no-op if it cannot be resolved.
                                            enum:
                                            - Required
                                            - Optional
                                            type: string
                                          resolve:
                                            description: |-
                                              Resolve specifies when this reference should be resolved. The default
                                              is 'IfNotPresent', which will attempt to resolve the reference only when
                                              the corresponding field is not present. Use 'Always' to resolve the
                                              reference on every reconcile.
                                            enum:
                                            - Always
                                            - IfNotPresent
                                            type: string
                                        type: object
                                    required:
                                    - name
                                    type: object
                                  cmkArnSelector:
                                    description: Selector for a Key in kms to populate
                                      cmkArn.
                                    properties:
                                      matchControllerRef:
                                        description: |-
                                          MatchControllerRef ensures an object with the same controller reference
                                          as the selecting object is selected.
                                        type: boolean
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        description: MatchLabels ensures an object
                                          with matching labels is selected.
                                        type: object
                                      policy:
                                        description: Policies for selection.
                                        properties:
                                          resolution:
                                            default: Required
                                            description: |-
                                              Resolution specifies whether resolution of this reference is required.
                                              The default is 'Required', which means the reconcile will fail if the
                                              reference cannot be resolved. 'Optional' means this reference will be
                                              a no-op if it cannot be resolved.
                                            enum:
                                            - Required
                                            - Optional
                                            type: string
                                          resolve:
                                            description: |-
                                              Resolve specifies when this reference should be resolved. The default
                                              is 'IfNotPresent', which will attempt to resolve the reference only when
                                              the corresponding field is not present. Use 'Always' to resolve the
                                              reference on every reconcile.
                                            enum:
                                            - Always
                                            - IfNotPresent
                                            type: string
                                        type: object
                                    type: object
                                  copyTags:
                                    description: Indicates whether the policy should
                                      copy tags from the source resource to the snapshot
                                      or AMI. Default value is false.
                                    type: boolean
                                  deprecateRule:
                                    description: See the deprecate_rule block. Max
                                      of 1 per schedule.
                                    properties:
                                      interval:
                                        description: How often this lifecycle policy
                                          should be evaluated. 1, 2,3,4,6,8,12 or
                                          24 are valid values. Conflicts with cron_expression.
                                          If set, interval_unit and times must also
                                          be set.
                                        type: number
                                      intervalUnit:
                                        description: The unit for how often the lifecycle
                                          policy should be evaluated. HOURS is currently
                                          the only allowed value and also the default
                                          value. Conflicts with cron_expression. Must
                                          be set if interval is set.
                                        type: string
                                    type: object
                                  encrypted:
                                    description: To encrypt a copy of an unencrypted
                                      snapshot when encryption by default is not enabled,
                                      enable encryption using this parameter. Copies
                                      of encrypted snapshots are encrypted, even if
                                      this parameter is false or when encryption by
                                      default is not enabled.
                                    type: boolean
                                  retainRule:
                                    description: Specifies the retention rule for
                                      cross-Region snapshot copies. See the retain_rule
                                      block. Max of 1 per action.
                                    properties:
                                      interval:
                                        description: How often this lifecycle policy
                                          should be evaluated. 1, 2,3,4,6,8,12 or
                                          24 are valid values. Conflicts with cron_expression.
                                          If set, interval_unit and times must also
                                          be set.
                                        type: number
                                      intervalUnit:
                                        description: The unit for how often the lifecycle
                                          policy should be evaluated. HOURS is currently
                                          the only allowed value and also the default
                                          value. Conflicts with cron_expression. Must
                                          be set if interval is set.
                                        type: string
                                    type: object
                                  target:
                                    description: The target Region or the Amazon Resource
                                      Name (ARN) of the target Outpost for the snapshot
                                      copies.
                                    type: string
                                  targetRegion:
                                    description: Use only for DLM policies of policy_type=IMAGE_MANAGEMENT.
                                      The target Region or the Amazon Resource Name
                                      (ARN) of the target Outpost for the snapshot
                                      copies.
                                    type: string
                                type: object
                              type: array
                            deprecateRule:
                              description: See the deprecate_rule block. Max of 1
                                per schedule.
                              properties:
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            fastRestoreRule:
                              description: See the fast_restore_rule block. Max of
                                1 per schedule.
                              properties:
                                availabilityZones:
                                  description: The Availability Zones in which to
                                    enable fast snapshot restore.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            name:
                              description: A descriptive name for the action.
                              type: string
                            retainRule:
                              description: Specifies the retention rule for cross-Region
                                snapshot copies. See the retain_rule block. Max of
                                1 per action.
                              properties:
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            shareRule:
                              description: See the share_rule block. Max of 1 per
                                schedule.
                              properties:
                                targetAccounts:
                                  description: The IDs of the AWS accounts with which
                                    to share the snapshots.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                unshareInterval:
                                  description: The period after which snapshots that
                                    are shared with other AWS accounts are automatically
                                    unshared.
                                  type: number
                                unshareIntervalUnit:
                                  description: The unit of time for the automatic
                                    unsharing interval. Valid values are DAYS, WEEKS,
                                    MONTHS, YEARS.
                                  type: string
                              type: object
                            tagsToAdd:
                              additionalProperties:
                                type: string
                              description: A map of tag keys and their values. DLM
                                lifecycle policies will already tag the snapshot with
                                the tags on the volume. This configuration adds extra
                                tags on top of these.
                              type: object
                              x-kubernetes-map-type: granular
                            variableTags:
                              additionalProperties:
                                type: string
                              description: A map of tag keys and variable values,
                                where the values are determined when the policy is
                                executed. Only $(instance-id) or $(timestamp) are
                                valid values. Can only be used when resource_types
                                is INSTANCE.
                              type: object
                              x-kubernetes-map-type: granular
                          type: object
                        type: array
                      targetTags:
                        additionalProperties:
                          type: string
                        description: A map of tag keys and their values. Any resources
                          that match the resource_types and are tagged with any of
                          these tags will be targeted. Required when policy_type is
                          EBS_SNAPSHOT_MANAGEMENT or IMAGE_MANAGEMENT. Must not be
                          specified when policy_type is EVENT_BASED_POLICY.
                        type: object
                        x-kubernetes-map-type: granular
                    type: object
                  region:
                    description: |-
                      Region where this resource will be managed. Defaults to the Region set in the provider configuration.
                      Region is the region you'd like your resource to be created in.
                    type: string
                  state:
                    description: Whether the lifecycle policy should be enabled or
                      disabled. ENABLED or DISABLED are valid values. Defaults to
                      ENABLED.
                    type: string
                  tags:
                    additionalProperties:
                      type: string
                    description: Key-value map of resource tags.
                    type: object
                    x-kubernetes-map-type: granular
                required:
                - region
                type: object
              initProvider:
                description: |-
                  THIS IS A BETA FIELD. It will be honored
                  unless the Management Policies feature flag is disabled.
                  InitProvider holds the same fields as ForProvider, with the exception
                  of Identifier and other resource reference fields. The fields that are
                  in InitProvider are merged into ForProvider when the resource is created.
                  The same fields are also added to the terraform ignore_changes hook, to
                  avoid updating them after creation. This is useful for fields that are
                  required on creation, but we do not desire to update them after creation,
                  for example because of an external controller is managing them, like an
                  autoscaler.
                properties:
                  defaultPolicy:
                    description: Specify the type of default policy to create. valid
                      values are VOLUME or INSTANCE.
                    type: string
                  description:
                    description: A description for the DLM lifecycle policy.
                    type: string
                  executionRoleArn:
                    description: The ARN of an IAM role that is able to be assumed
                      by the DLM service.
                    type: string
                  executionRoleArnRef:
                    description: Reference to a Role in iam to populate executionRoleArn.
                    properties:
                      name:
                        description: Name of the referenced object.
                        type: string
                      policy:
                        description: Policies for referencing.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    required:
                    - name
                    type: object
                  executionRoleArnSelector:
                    description: Selector for a Role in iam to populate executionRoleArn.
                    properties:
                      matchControllerRef:
                        description: |-
                          MatchControllerRef ensures an object with the same controller reference
                          as the selecting object is selected.
                        type: boolean
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: MatchLabels ensures an object with matching labels
                          is selected.
                        type: object
                      policy:
                        description: Policies for selection.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    type: object
                  policyDetails:
                    description: See the policy_details configuration block. Max of
                      1.
                    properties:
                      action:
                        description: The actions to be performed when the event-based
                          policy is triggered. You can specify only one action per
                          policy. This parameter is required for event-based policies
                          only. If you are creating a snapshot or AMI policy, omit
                          this parameter. See the action configuration block.
                        properties:
                          crossRegionCopy:
                            description: The rule for copying shared snapshots across
                              Regions. See the cross_region_copy configuration block.
                            items:
                              properties:
                                encryptionConfiguration:
                                  description: The encryption settings for the copied
                                    snapshot. See the encryption_configuration block.
                                    Max of 1 per action.
                                  properties:
                                    cmkArn:
                                      description: The Amazon Resource Name (ARN)
                                        of the AWS KMS key to use for EBS encryption.
                                        If this parameter is not specified, the default
                                        KMS key for the account is used.
                                      type: string
                                    encrypted:
                                      description: To encrypt a copy of an unencrypted
                                        snapshot when encryption by default is not
                                        enabled, enable encryption using this parameter.
                                        Copies of encrypted snapshots are encrypted,
                                        even if this parameter is false or when encryption
                                        by default is not enabled.
                                      type: boolean
                                  type: object
                                retainRule:
                                  description: Specifies the retention rule for cross-Region
                                    snapshot copies. See the retain_rule block. Max
                                    of 1 per action.
                                  properties:
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                target:
                                  description: The target Region or the Amazon Resource
                                    Name (ARN) of the target Outpost for the snapshot
                                    copies.
                                  type: string
                              type: object
                            type: array
                          name:
                            description: A descriptive name for the action.
                            type: string
                        type: object
                      copyTags:
                        description: Indicates whether the policy should copy tags
                          from the source resource to the snapshot or AMI. Default
                          value is false.
                        type: boolean
                      createInterval:
                        description: How often the policy should run and create snapshots
                          or AMIs. valid values range from 1 to 7. Default value is
                          1.
                        type: number
                      eventSource:
                        description: The event that triggers the event-based policy.
                          This parameter is required for event-based policies only.
                          If you are creating a snapshot or AMI policy, omit this
                          parameter. See the event_source configuration block.
                        properties:
                          parameters:
                            description: A set of optional parameters for snapshot
                              and AMI lifecycle policies. See the parameters configuration
                              block.
                            properties:
                              descriptionRegex:
                                description: The snapshot description that can trigger
                                  the policy. The description pattern is specified
                                  using a regular expression. The policy runs only
                                  if a snapshot with a description that matches the
                                  specified pattern is shared with your account.
                                type: string
                              eventType:
                                description: The type of event. Currently, only shareSnapshot
                                  events are supported.
                                type: string
                              snapshotOwner:
                                description: The IDs of the AWS accounts that can
                                  trigger policy by sharing snapshots with your account.
                                  The policy only runs if one of the specified AWS
                                  accounts shares a snapshot with your account.
                                items:
                                  type: string
                                type: array
                                x-kubernetes-list-type: set
                            type: object
                          type:
                            description: The source of the event. Currently only managed
                              CloudWatch Events rules are supported. Valid values
                              are MANAGED_CWE.
                            type: string
                        type: object
                      exclusions:
                        description: Specifies exclusion parameters for volumes or
                          instances for which you do not want to create snapshots
                          or AMIs.  See the exclusions configuration block.
                        properties:
                          excludeBootVolumes:
                            description: Indicates whether to exclude volumes that
                              are attached to instances as the boot volume. To exclude
                              boot volumes, specify true.
                            type: boolean
                          excludeTags:
                            additionalProperties:
                              type: string
                            description: Map specifies whether to exclude volumes
                              that have specific tags.
                            type: object
                            x-kubernetes-map-type: granular
                          excludeVolumeTypes:
                            description: List specifies the volume types to exclude.
                            items:
                              type: string
                            type: array
                        type: object
                      extendDeletion:
                        description: snapshot or AMI retention behavior for the policy
                          if the source volume or instance is deleted, or if the policy
                          enters the error, disabled, or deleted state. Default value
                          is false.
                        type: boolean
                      parameters:
                        description: A set of optional parameters for snapshot and
                          AMI lifecycle policies. See the parameters configuration
                          block.
                        properties:
                          excludeBootVolume:
                            description: Indicates whether to exclude the root volume
                              from snapshots created using CreateSnapshots. The default
                              is false.
                            type: boolean
                          noReboot:
                            description: Applies to AMI lifecycle policies only. Indicates
                              whether targeted instances are rebooted when the lifecycle
                              policy runs. true indicates that targeted instances
                              are not rebooted when the policy runs. false indicates
                              that target instances are rebooted when the policy runs.
                              The default is true (instances are not rebooted).
                            type: boolean
                        type: object
                      policyLanguage:
                        description: Type of policy to create. SIMPLIFIED To create
                          a default policy. STANDARD To create a custom policy.
                        type: string
                      policyType:
                        description: The valid target resource types and actions a
                          policy can manage. Specify EBS_SNAPSHOT_MANAGEMENT to create
                          a lifecycle policy that manages the lifecycle of Amazon
                          EBS snapshots. Specify IMAGE_MANAGEMENT to create a lifecycle
                          policy that manages the lifecycle of EBS-backed AMIs. Specify
                          EVENT_BASED_POLICY to create an event-based policy that
                          performs specific actions when a defined event occurs in
                          your AWS account. Default value is EBS_SNAPSHOT_MANAGEMENT.
                        type: string
                      resourceLocations:
                        description: The location of the resources to backup. If the
                          source resources are located in an AWS Region, specify CLOUD.
                          If the source resources are located on an Outpost in your
                          account, specify OUTPOST. If the source resources are located
                          in a Local Zone, specify LOCAL_ZONE. Valid values are CLOUD,
                          LOCAL_ZONE, and OUTPOST.
                        items:
                          type: string
                        type: array
                      resourceType:
                        description: Type of default policy to create. Valid values
                          are VOLUME and INSTANCE.
                        type: string
                      resourceTypes:
                        description: A list of resource types that should be targeted
                          by the lifecycle policy. Valid values are VOLUME and INSTANCE.
                        items:
                          type: string
                        type: array
                      retainInterval:
                        description: Specifies how long the policy should retain snapshots
                          or AMIs before deleting them. valid values range from 2
                          to 14. Default value is 7.
                        type: number
                      schedule:
                        description: See the schedule configuration block.
                        items:
                          properties:
                            archiveRule:
                              description: Specifies a snapshot archiving rule for
                                a schedule. See archive_rule block.
                              properties:
                                archiveRetainRule:
                                  description: Information about the retention period
                                    for the snapshot archiving rule. See the archive_retain_rule
                                    block.
                                  properties:
                                    retentionArchiveTier:
                                      description: Information about retention period
                                        in the Amazon EBS Snapshots Archive. See the
                                        retention_archive_tier block.
                                      properties:
                                        count:
                                          description: Specifies the number of oldest
                                            AMIs to deprecate. Must be an integer
                                            between 1 and 1000. Conflicts with interval
                                            and interval_unit.
                                          type: number
                                        interval:
                                          description: How often this lifecycle policy
                                            should be evaluated. 1, 2,3,4,6,8,12 or
                                            24 are valid values. Conflicts with cron_expression.
                                            If set, interval_unit and times must also
                                            be set.
                                          type: number
                                        intervalUnit:
                                          description: The unit for how often the
                                            lifecycle policy should be evaluated.
                                            HOURS is currently the only allowed value
                                            and also the default value. Conflicts
                                            with cron_expression. Must be set if interval
                                            is set.
                                          type: string
                                      type: object
                                  type: object
                              type: object
                            copyTags:
                              description: Indicates whether the policy should copy
                                tags from the source resource to the snapshot or AMI.
                                Default value is false.
                              type: boolean
                            createRule:
                              description: See the create_rule block. Max of 1 per
                                schedule.
                              properties:
                                cronExpression:
                                  description: The schedule, as a Cron expression.
                                    The schedule interval must be between 1 hour and
                                    1 year. Conflicts with interval, interval_unit,
                                    and times.
                                  type: string
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                                location:
                                  description: Specifies the destination for snapshots
                                    created by the policy. To create snapshots in
                                    the same Region as the source resource, specify
                                    CLOUD. To create snapshots on the same Outpost
                                    as the source resource, specify OUTPOST_LOCAL.
                                    If you omit this parameter, CLOUD is used by default.
                                    If the policy targets resources in an AWS Region,
                                    then you must create snapshots in the same Region
                                    as the source resource. If the policy targets
                                    resources on an Outpost, then you can create snapshots
                                    on the same Outpost as the source resource, or
                                    in the Region of that Outpost. Valid values are
                                    CLOUD and OUTPOST_LOCAL.
                                  type: string
                                scripts:
                                  description: Specifies pre and/or post scripts for
                                    a snapshot lifecycle policy that targets instances.
                                    Valid only when resource_type is INSTANCE. See
                                    the scripts configuration block.
                                  properties:
                                    executeOperationOnScriptFailure:
                                      description: Indicates whether Amazon Data Lifecycle
                                        Manager should default to crash-consistent
                                        snapshots if the pre script fails. The default
                                        is true.
                                      type: boolean
                                    executionHandler:
                                      description: The SSM document that includes
                                        the pre and/or post scripts to run. In case
                                        automating VSS backups, specify AWS_VSS_BACKUP.
                                        In case automating application-consistent
                                        snapshots for SAP HANA workloads, specify
                                        AWSSystemsManagerSAP-CreateDLMSnapshotForSAPHANA.
                                        If you are using a custom SSM document that
                                        you own, specify either the name or ARN of
                                        the SSM document.
                                      type: string
                                    executionHandlerService:
                                      description: Indicates the service used to execute
                                        the pre and/or post scripts. If using custom
                                        SSM documents or automating application-consistent
                                        snapshots of SAP HANA workloads, specify AWS_SYSTEMS_MANAGER.
                                        In case automating VSS Backups, omit this
                                        parameter. The default is AWS_SYSTEMS_MANAGER.
                                      type: string
                                    executionTimeout:
                                      description: Specifies a timeout period, in
                                        seconds, after which Amazon Data Lifecycle
                                        Manager fails the script run attempt if it
                                        has not completed. In case automating VSS
                                        Backups, omit this parameter. The default
                                        is 10.
                                      type: number
                                    maximumRetryCount:
                                      description: Specifies the number of times Amazon
                                        Data Lifecycle Manager should retry scripts
                                        that fail. Must be an integer between 0 and
                                        3. The default is 0.
                                      type: number
                                    stages:
                                      description: 'List to indicate which scripts
                                        Amazon Data Lifecycle Manager should run on
                                        target instances. Pre scripts run before Amazon
                                        Data Lifecycle Manager initiates snapshot
                                        creation. Post scripts run after Amazon Data
                                        Lifecycle Manager initiates snapshot creation.
                                        Valid values: PRE and POST. The default is
                                        PRE and POST'
                                      items:
                                        type: string
                                      type: array
                                  type: object
                                times:
                                  description: A list of times in 24 hour clock format
                                    that sets when the lifecycle policy should be
                                    evaluated. Max of 1. Conflicts with cron_expression.
                                    Must be set if interval is set.
                                  items:
                                    type: string
                                  type: array
                              type: object
                            crossRegionCopyRule:
                              description: See the cross_region_copy_rule block. Max
                                of 3 per schedule.
                              items:
                                properties:
                                  cmkArn:
                                    description: The Amazon Resource Name (ARN) of
                                      the AWS KMS key to use for EBS encryption. If
                                      this parameter is not specified, the default
                                      KMS key for the account is used.
                                    type: string
                                  cmkArnRef:
                                    description: Reference to a Key in kms to populate
                                      cmkArn.
                                    properties:
                                      name:
                                        description: Name of the referenced object.
                                        type: string
                                      policy:
                                        description: Policies for referencing.
                                        properties:
                                          resolution:
                                            default: Required
                                            description: |-
                                              Resolution specifies whether resolution of this reference is required.
                                              The default is 'Required', which means the reconcile will fail if the
                                              reference cannot be resolved. 'Optional' means this reference will be
                                              a no-op if it cannot be resolved.
                                            enum:
                                            - Required
                                            - Optional
                                            type: string
                                          resolve:
                                            description: |-
                                              Resolve specifies when this reference should be resolved. The default
                                              is 'IfNotPresent', which will attempt to resolve the reference only when
                                              the corresponding field is not present. Use 'Always' to resolve the
                                              reference on every reconcile.
                                            enum:
                                            - Always
                                            - IfNotPresent
                                            type: string
                                        type: object
                                    required:
                                    - name
                                    type: object
                                  cmkArnSelector:
                                    description: Selector for a Key in kms to populate
                                      cmkArn.
                                    properties:
                                      matchControllerRef:
                                        description: |-
                                          MatchControllerRef ensures an object with the same controller reference
                                          as the selecting object is selected.
                                        type: boolean
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        description: MatchLabels ensures an object
                                          with matching labels is selected.
                                        type: object
                                      policy:
                                        description: Policies for selection.
                                        properties:
                                          resolution:
                                            default: Required
                                            description: |-
                                              Resolution specifies whether resolution of this reference is required.
                                              The default is 'Required', which means the reconcile will fail if the
                                              reference cannot be resolved. 'Optional' means this reference will be
                                              a no-op if it cannot be resolved.
                                            enum:
                                            - Required
                                            - Optional
                                            type: string
                                          resolve:
                                            description: |-
                                              Resolve specifies when this reference should be resolved. The default
                                              is 'IfNotPresent', which will attempt to resolve the reference only when
                                              the corresponding field is not present. Use 'Always' to resolve the
                                              reference on every reconcile.
                                            enum:
                                            - Always
                                            - IfNotPresent
                                            type: string
                                        type: object
                                    type: object
                                  copyTags:
                                    description: Indicates whether the policy should
                                      copy tags from the source resource to the snapshot
                                      or AMI. Default value is false.
                                    type: boolean
                                  deprecateRule:
                                    description: See the deprecate_rule block. Max
                                      of 1 per schedule.
                                    properties:
                                      interval:
                                        description: How often this lifecycle policy
                                          should be evaluated. 1, 2,3,4,6,8,12 or
                                          24 are valid values. Conflicts with cron_expression.
                                          If set, interval_unit and times must also
                                          be set.
                                        type: number
                                      intervalUnit:
                                        description: The unit for how often the lifecycle
                                          policy should be evaluated. HOURS is currently
                                          the only allowed value and also the default
                                          value. Conflicts with cron_expression. Must
                                          be set if interval is set.
                                        type: string
                                    type: object
                                  encrypted:
                                    description: To encrypt a copy of an unencrypted
                                      snapshot when encryption by default is not enabled,
                                      enable encryption using this parameter. Copies
                                      of encrypted snapshots are encrypted, even if
                                      this parameter is false or when encryption by
                                      default is not enabled.
                                    type: boolean
                                  retainRule:
                                    description: Specifies the retention rule for
                                      cross-Region snapshot copies. See the retain_rule
                                      block. Max of 1 per action.
                                    properties:
                                      interval:
                                        description: How often this lifecycle policy
                                          should be evaluated. 1, 2,3,4,6,8,12 or
                                          24 are valid values. Conflicts with cron_expression.
                                          If set, interval_unit and times must also
                                          be set.
                                        type: number
                                      intervalUnit:
                                        description: The unit for how often the lifecycle
                                          policy should be evaluated. HOURS is currently
                                          the only allowed value and also the default
                                          value. Conflicts with cron_expression. Must
                                          be set if interval is set.
                                        type: string
                                    type: object
                                  target:
                                    description: The target Region or the Amazon Resource
                                      Name (ARN) of the target Outpost for the snapshot
                                      copies.
                                    type: string
                                  targetRegion:
                                    description: Use only for DLM policies of policy_type=IMAGE_MANAGEMENT.
                                      The target Region or the Amazon Resource Name
                                      (ARN) of the target Outpost for the snapshot
                                      copies.
                                    type: string
                                type: object
                              type: array
                            deprecateRule:
                              description: See the deprecate_rule block. Max of 1
                                per schedule.
                              properties:
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            fastRestoreRule:
                              description: See the fast_restore_rule block. Max of
                                1 per schedule.
                              properties:
                                availabilityZones:
                                  description: The Availability Zones in which to
                                    enable fast snapshot restore.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            name:
                              description: A descriptive name for the action.
                              type: string
                            retainRule:
                              description: Specifies the retention rule for cross-Region
                                snapshot copies. See the retain_rule block. Max of
                                1 per action.
                              properties:
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            shareRule:
                              description: See the share_rule block. Max of 1 per
                                schedule.
                              properties:
                                targetAccounts:
                                  description: The IDs of the AWS accounts with which
                                    to share the snapshots.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                unshareInterval:
                                  description: The period after which snapshots that
                                    are shared with other AWS accounts are automatically
                                    unshared.
                                  type: number
                                unshareIntervalUnit:
                                  description: The unit of time for the automatic
                                    unsharing interval. Valid values are DAYS, WEEKS,
                                    MONTHS, YEARS.
                                  type: string
                              type: object
                            tagsToAdd:
                              additionalProperties:
                                type: string
                              description: A map of tag keys and their values. DLM
                                lifecycle policies will already tag the snapshot with
                                the tags on the volume. This configuration adds extra
                                tags on top of these.
                              type: object
                              x-kubernetes-map-type: granular
                            variableTags:
                              additionalProperties:
                                type: string
                              description: A map of tag keys and variable values,
                                where the values are determined when the policy is
                                executed. Only $(instance-id) or $(timestamp) are
                                valid values. Can only be used when resource_types
                                is INSTANCE.
                              type: object
                              x-kubernetes-map-type: granular
                          type: object
                        type: array
                      targetTags:
                        additionalProperties:
                          type: string
                        description: A map of tag keys and their values. Any resources
                          that match the resource_types and are tagged with any of
                          these tags will be targeted. Required when policy_type is
                          EBS_SNAPSHOT_MANAGEMENT or IMAGE_MANAGEMENT. Must not be
                          specified when policy_type is EVENT_BASED_POLICY.
                        type: object
                        x-kubernetes-map-type: granular
                    type: object
                  state:
                    description: Whether the lifecycle policy should be enabled or
                      disabled. ENABLED or DISABLED are valid values. Defaults to
                      ENABLED.
                    type: string
                  tags:
                    additionalProperties:
                      type: string
                    description: Key-value map of resource tags.
                    type: object
                    x-kubernetes-map-type: granular
                type: object
              managementPolicies:
                default:
                - '*'
                description: |-
                  THIS IS A BETA FIELD. It is on by default but can be opted out
                  through a Crossplane feature flag.
                  ManagementPolicies specify the array of actions Crossplane is allowed to
                  take on the managed and external resources.
                  This field is planned to replace the DeletionPolicy field in a future
                  release. Currently, both could be set independently and non-default
                  values would be honored if the feature flag is enabled. If both are
                  custom, the DeletionPolicy field will be ignored.
                  See the design doc for more information: https://github.com/crossplane/crossplane/blob/499895a25d1a1a0ba1604944ef98ac7a1a71f197/design/design-doc-observe-only-resources.md?plain=1#L223
                  and this one: https://github.com/crossplane/crossplane/blob/444267e84783136daa93568b364a5f01228cacbe/design/one-pager-ignore-changes.md
                items:
                  description: |-
                    A ManagementAction represents an action that the Crossplane controllers
                    can take on an external resource.
                  enum:
                  - Observe
                  - Create
                  - Update
                  - Delete
                  - LateInitialize
                  - '*'
                  type: string
                type: array
              providerConfigRef:
                default:
                  name: default
                description: |-
                  ProviderConfigReference specifies how the provider that will be used to
                  create, observe, update, and delete this managed resource should be
                  configured.
                properties:
                  name:
                    description: Name of the referenced object.
                    type: string
                  policy:
                    description: Policies for referencing.
                    properties:
                      resolution:
                        default: Required
                        description: |-
                          Resolution specifies whether resolution of this reference is required.
                          The default is 'Required', which means the reconcile will fail if the
                          reference cannot be resolved. 'Optional' means this reference will be
                          a no-op if it cannot be resolved.
                        enum:
                        - Required
                        - Optional
                        type: string
                      resolve:
                        description: |-
                          Resolve specifies when this reference should be resolved. The default
                          is 'IfNotPresent', which will attempt to resolve the reference only when
                          the corresponding field is not present. Use 'Always' to resolve the
                          reference on every reconcile.
                        enum:
                        - Always
                        - IfNotPresent
                        type: string
                    type: object
                required:
                - name
                type: object
              writeConnectionSecretToRef:
                description: |-
                  WriteConnectionSecretToReference specifies the namespace and name of a
                  Secret to which any connection details for this managed resource should
                  be written. Connection details frequently include the endpoint, username,
                  and password required to connect to the managed resource.
                properties:
                  name:
                    description: Name of the secret.
                    type: string
                  namespace:
                    description: Namespace of the secret.
                    type: string
                required:
                - name
                - namespace
                type: object
            required:
            - forProvider
            type: object
            x-kubernetes-validations:
            - message: spec.forProvider.description is a required parameter
              rule: '!(''*'' in self.managementPolicies || ''Create'' in self.managementPolicies
                || ''Update'' in self.managementPolicies) || has(self.forProvider.description)
                || (has(self.initProvider) && has(self.initProvider.description))'
            - message: spec.forProvider.policyDetails is a required parameter
              rule: '!(''*'' in self.managementPolicies || ''Create'' in self.managementPolicies
                || ''Update'' in self.managementPolicies) || has(self.forProvider.policyDetails)
                || (has(self.initProvider) && has(self.initProvider.policyDetails))'
          status:
            description: LifecyclePolicyStatus defines the observed state of LifecyclePolicy.
            properties:
              atProvider:
                properties:
                  arn:
                    description: Amazon Resource Name (ARN) of the DLM Lifecycle Policy.
                    type: string
                  defaultPolicy:
                    description: Specify the type of default policy to create. valid
                      values are VOLUME or INSTANCE.
                    type: string
                  description:
                    description: A description for the DLM lifecycle policy.
                    type: string
                  executionRoleArn:
                    description: The ARN of an IAM role that is able to be assumed
                      by the DLM service.
                    type: string
                  id:
                    description: Identifier of the DLM Lifecycle Policy.
                    type: string
                  policyDetails:
                    description: See the policy_details configuration block. Max of
                      1.
                    properties:
                      action:
                        description: The actions to be performed when the event-based
                          policy is triggered. You can specify only one action per
                          policy. This parameter is required for event-based policies
                          only. If you are creating a snapshot or AMI policy, omit
                          this parameter. See the action configuration block.
                        properties:
                          crossRegionCopy:
                            description: The rule for copying shared snapshots across
                              Regions. See the cross_region_copy configuration block.
                            items:
                              properties:
                                encryptionConfiguration:
                                  description: The encryption settings for the copied
                                    snapshot. See the encryption_configuration block.
                                    Max of 1 per action.
                                  properties:
                                    cmkArn:
                                      description: The Amazon Resource Name (ARN)
                                        of the AWS KMS key to use for EBS encryption.
                                        If this parameter is not specified, the default
                                        KMS key for the account is used.
                                      type: string
                                    encrypted:
                                      description: To encrypt a copy of an unencrypted
                                        snapshot when encryption by default is not
                                        enabled, enable encryption using this parameter.
                                        Copies of encrypted snapshots are encrypted,
                                        even if this parameter is false or when encryption
                                        by default is not enabled.
                                      type: boolean
                                  type: object
                                retainRule:
                                  description: Specifies the retention rule for cross-Region
                                    snapshot copies. See the retain_rule block. Max
                                    of 1 per action.
                                  properties:
                                    interval:
                                      description: How often this lifecycle policy
                                        should be evaluated. 1, 2,3,4,6,8,12 or 24
                                        are valid values. Conflicts with cron_expression.
                                        If set, interval_unit and times must also
                                        be set.
                                      type: number
                                    intervalUnit:
                                      description: The unit for how often the lifecycle
                                        policy should be evaluated. HOURS is currently
                                        the only allowed value and also the default
                                        value. Conflicts with cron_expression. Must
                                        be set if interval is set.
                                      type: string
                                  type: object
                                target:
                                  description: The target Region or the Amazon Resource
                                    Name (ARN) of the target Outpost for the snapshot
                                    copies.
                                  type: string
                              type: object
                            type: array
                          name:
                            description: A descriptive name for the action.
                            type: string
                        type: object
                      copyTags:
                        description: Indicates whether the policy should copy tags
                          from the source resource to the snapshot or AMI. Default
                          value is false.
                        type: boolean
                      createInterval:
                        description: How often the policy should run and create snapshots
                          or AMIs. valid values range from 1 to 7. Default value is
                          1.
                        type: number
                      eventSource:
                        description: The event that triggers the event-based policy.
                          This parameter is required for event-based policies only.
                          If you are creating a snapshot or AMI policy, omit this
                          parameter. See the event_source configuration block.
                        properties:
                          parameters:
                            description: A set of optional parameters for snapshot
                              and AMI lifecycle policies. See the parameters configuration
                              block.
                            properties:
                              descriptionRegex:
                                description: The snapshot description that can trigger
                                  the policy. The description pattern is specified
                                  using a regular expression. The policy runs only
                                  if a snapshot with a description that matches the
                                  specified pattern is shared with your account.
                                type: string
                              eventType:
                                description: The type of event. Currently, only shareSnapshot
                                  events are supported.
                                type: string
                              snapshotOwner:
                                description: The IDs of the AWS accounts that can
                                  trigger policy by sharing snapshots with your account.
                                  The policy only runs if one of the specified AWS
                                  accounts shares a snapshot with your account.
                                items:
                                  type: string
                                type: array
                                x-kubernetes-list-type: set
                            type: object
                          type:
                            description: The source of the event. Currently only managed
                              CloudWatch Events rules are supported. Valid values
                              are MANAGED_CWE.
                            type: string
                        type: object
                      exclusions:
                        description: Specifies exclusion parameters for volumes or
                          instances for which you do not want to create snapshots
                          or AMIs.  See the exclusions configuration block.
                        properties:
                          excludeBootVolumes:
                            description: Indicates whether to exclude volumes that
                              are attached to instances as the boot volume. To exclude
                              boot volumes, specify true.
                            type: boolean
                          excludeTags:
                            additionalProperties:
                              type: string
                            description: Map specifies whether to exclude volumes
                              that have specific tags.
                            type: object
                            x-kubernetes-map-type: granular
                          excludeVolumeTypes:
                            description: List specifies the volume types to exclude.
                            items:
                              type: string
                            type: array
                        type: object
                      extendDeletion:
                        description: snapshot or AMI retention behavior for the policy
                          if the source volume or instance is deleted, or if the policy
                          enters the error, disabled, or deleted state. Default value
                          is false.
                        type: boolean
                      parameters:
                        description: A set of optional parameters for snapshot and
                          AMI lifecycle policies. See the parameters configuration
                          block.
                        properties:
                          excludeBootVolume:
                            description: Indicates whether to exclude the root volume
                              from snapshots created using CreateSnapshots. The default
                              is false.
                            type: boolean
                          noReboot:
                            description: Applies to AMI lifecycle policies only. Indicates
                              whether targeted instances are rebooted when the lifecycle
                              policy runs. true indicates that targeted instances
                              are not rebooted when the policy runs. false indicates
                              that target instances are rebooted when the policy runs.
                              The default is true (instances are not rebooted).
                            type: boolean
                        type: object
                      policyLanguage:
                        description: Type of policy to create. SIMPLIFIED To create
                          a default policy. STANDARD To create a custom policy.
                        type: string
                      policyType:
                        description: The valid target resource types and actions a
                          policy can manage. Specify EBS_SNAPSHOT_MANAGEMENT to create
                          a lifecycle policy that manages the lifecycle of Amazon
                          EBS snapshots. Specify IMAGE_MANAGEMENT to create a lifecycle
                          policy that manages the lifecycle of EBS-backed AMIs. Specify
                          EVENT_BASED_POLICY to create an event-based policy that
                          performs specific actions when a defined event occurs in
                          your AWS account. Default value is EBS_SNAPSHOT_MANAGEMENT.
                        type: string
                      resourceLocations:
                        description: The location of the resources to backup. If the
                          source resources are located in an AWS Region, specify CLOUD.
                          If the source resources are located on an Outpost in your
                          account, specify OUTPOST. If the source resources are located
                          in a Local Zone, specify LOCAL_ZONE. Valid values are CLOUD,
                          LOCAL_ZONE, and OUTPOST.
                        items:
                          type: string
                        type: array
                      resourceType:
                        description: Type of default policy to create. Valid values
                          are VOLUME and INSTANCE.
                        type: string
                      resourceTypes:
                        description: A list of resource types that should be targeted
                          by the lifecycle policy. Valid values are VOLUME and INSTANCE.
                        items:
                          type: string
                        type: array
                      retainInterval:
                        description: Specifies how long the policy should retain snapshots
                          or AMIs before deleting them. valid values range from 2
                          to 14. Default value is 7.
                        type: number
                      schedule:
                        description: See the schedule configuration block.
                        items:
                          properties:
                            archiveRule:
                              description: Specifies a snapshot archiving rule for
                                a schedule. See archive_rule block.
                              properties:
                                archiveRetainRule:
                                  description: Information about the retention period
                                    for the snapshot archiving rule. See the archive_retain_rule
                                    block.
                                  properties:
                                    retentionArchiveTier:
                                      description: Information about retention period
                                        in the Amazon EBS Snapshots Archive. See the
                                        retention_archive_tier block.
                                      properties:
                                        count:
                                          description: Specifies the number of oldest
                                            AMIs to deprecate. Must be an integer
                                            between 1 and 1000. Conflicts with interval
                                            and interval_unit.
                                          type: number
                                        interval:
                                          description: How often this lifecycle policy
                                            should be evaluated. 1, 2,3,4,6,8,12 or
                                            24 are valid values. Conflicts with cron_expression.
                                            If set, interval_unit and times must also
                                            be set.
                                          type: number
                                        intervalUnit:
                                          description: The unit for how often the
                                            lifecycle policy should be evaluated.
                                            HOURS is currently the only allowed value
                                            and also the default value. Conflicts
                                            with cron_expression. Must be set if interval
                                            is set.
                                          type: string
                                      type: object
                                  type: object
                              type: object
                            copyTags:
                              description: Indicates whether the policy should copy
                                tags from the source resource to the snapshot or AMI.
                                Default value is false.
                              type: boolean
                            createRule:
                              description: See the create_rule block. Max of 1 per
                                schedule.
                              properties:
                                cronExpression:
                                  description: The schedule, as a Cron expression.
                                    The schedule interval must be between 1 hour and
                                    1 year. Conflicts with interval, interval_unit,
                                    and times.
                                  type: string
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                                location:
                                  description: Specifies the destination for snapshots
                                    created by the policy. To create snapshots in
                                    the same Region as the source resource, specify
                                    CLOUD. To create snapshots on the same Outpost
                                    as the source resource, specify OUTPOST_LOCAL.
                                    If you omit this parameter, CLOUD is used by default.
                                    If the policy targets resources in an AWS Region,
                                    then you must create snapshots in the same Region
                                    as the source resource. If the policy targets
                                    resources on an Outpost, then you can create snapshots
                                    on the same Outpost as the source resource, or
                                    in the Region of that Outpost. Valid values are
                                    CLOUD and OUTPOST_LOCAL.
                                  type: string
                                scripts:
                                  description: Specifies pre and/or post scripts for
                                    a snapshot lifecycle policy that targets instances.
                                    Valid only when resource_type is INSTANCE. See
                                    the scripts configuration block.
                                  properties:
                                    executeOperationOnScriptFailure:
                                      description: Indicates whether Amazon Data Lifecycle
                                        Manager should default to crash-consistent
                                        snapshots if the pre script fails. The default
                                        is true.
                                      type: boolean
                                    executionHandler:
                                      description: The SSM document that includes
                                        the pre and/or post scripts to run. In case
                                        automating VSS backups, specify AWS_VSS_BACKUP.
                                        In case automating application-consistent
                                        snapshots for SAP HANA workloads, specify
                                        AWSSystemsManagerSAP-CreateDLMSnapshotForSAPHANA.
                                        If you are using a custom SSM document that
                                        you own, specify either the name or ARN of
                                        the SSM document.
                                      type: string
                                    executionHandlerService:
                                      description: Indicates the service used to execute
                                        the pre and/or post scripts. If using custom
                                        SSM documents or automating application-consistent
                                        snapshots of SAP HANA workloads, specify AWS_SYSTEMS_MANAGER.
                                        In case automating VSS Backups, omit this
                                        parameter. The default is AWS_SYSTEMS_MANAGER.
                                      type: string
                                    executionTimeout:
                                      description: Specifies a timeout period, in
                                        seconds, after which Amazon Data Lifecycle
                                        Manager fails the script run attempt if it
                                        has not completed. In case automating VSS
                                        Backups, omit this parameter. The default
                                        is 10.
                                      type: number
                                    maximumRetryCount:
                                      description: Specifies the number of times Amazon
                                        Data Lifecycle Manager should retry scripts
                                        that fail. Must be an integer between 0 and
                                        3. The default is 0.
                                      type: number
                                    stages:
                                      description: 'List to indicate which scripts
                                        Amazon Data Lifecycle Manager should run on
                                        target instances. Pre scripts run before Amazon
                                        Data Lifecycle Manager initiates snapshot
                                        creation. Post scripts run after Amazon Data
                                        Lifecycle Manager initiates snapshot creation.
                                        Valid values: PRE and POST. The default is
                                        PRE and POST'
                                      items:
                                        type: string
                                      type: array
                                  type: object
                                times:
                                  description: A list of times in 24 hour clock format
                                    that sets when the lifecycle policy should be
                                    evaluated. Max of 1. Conflicts with cron_expression.
                                    Must be set if interval is set.
                                  items:
                                    type: string
                                  type: array
                              type: object
                            crossRegionCopyRule:
                              description: See the cross_region_copy_rule block. Max
                                of 3 per schedule.
                              items:
                                properties:
                                  cmkArn:
                                    description: The Amazon Resource Name (ARN) of
                                      the AWS KMS key to use for EBS encryption. If
                                      this parameter is not specified, the default
                                      KMS key for the account is used.
                                    type: string
                                  copyTags:
                                    description: Indicates whether the policy should
                                      copy tags from the source resource to the snapshot
                                      or AMI. Default value is false.
                                    type: boolean
                                  deprecateRule:
                                    description: See the deprecate_rule block. Max
                                      of 1 per schedule.
                                    properties:
                                      interval:
                                        description: How often this lifecycle policy
                                          should be evaluated. 1, 2,3,4,6,8,12 or
                                          24 are valid values. Conflicts with cron_expression.
                                          If set, interval_unit and times must also
                                          be set.
                                        type: number
                                      intervalUnit:
                                        description: The unit for how often the lifecycle
                                          policy should be evaluated. HOURS is currently
                                          the only allowed value and also the default
                                          value. Conflicts with cron_expression. Must
                                          be set if interval is set.
                                        type: string
                                    type: object
                                  encrypted:
                                    description: To encrypt a copy of an unencrypted
                                      snapshot when encryption by default is not enabled,
                                      enable encryption using this parameter. Copies
                                      of encrypted snapshots are encrypted, even if
                                      this parameter is false or when encryption by
                                      default is not enabled.
                                    type: boolean
                                  retainRule:
                                    description: Specifies the retention rule for
                                      cross-Region snapshot copies. See the retain_rule
                                      block. Max of 1 per action.
                                    properties:
                                      interval:
                                        description: How often this lifecycle policy
                                          should be evaluated. 1, 2,3,4,6,8,12 or
                                          24 are valid values. Conflicts with cron_expression.
                                          If set, interval_unit and times must also
                                          be set.
                                        type: number
                                      intervalUnit:
                                        description: The unit for how often the lifecycle
                                          policy should be evaluated. HOURS is currently
                                          the only allowed value and also the default
                                          value. Conflicts with cron_expression. Must
                                          be set if interval is set.
                                        type: string
                                    type: object
                                  target:
                                    description: The target Region or the Amazon Resource
                                      Name (ARN) of the target Outpost for the snapshot
                                      copies.
                                    type: string
                                  targetRegion:
                                    description: Use only for DLM policies of policy_type=IMAGE_MANAGEMENT.
                                      The target Region or the Amazon Resource Name
                                      (ARN) of the target Outpost for the snapshot
                                      copies.
                                    type: string
                                type: object
                              type: array
                            deprecateRule:
                              description: See the deprecate_rule block. Max of 1
                                per schedule.
                              properties:
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            fastRestoreRule:
                              description: See the fast_restore_rule block. Max of
                                1 per schedule.
                              properties:
                                availabilityZones:
                                  description: The Availability Zones in which to
                                    enable fast snapshot restore.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            name:
                              description: A descriptive name for the action.
                              type: string
                            retainRule:
                              description: Specifies the retention rule for cross-Region
                                snapshot copies. See the retain_rule block. Max of
                                1 per action.
                              properties:
                                count:
                                  description: Specifies the number of oldest AMIs
                                    to deprecate. Must be an integer between 1 and
                                    1000. Conflicts with interval and interval_unit.
                                  type: number
                                interval:
                                  description: How often this lifecycle policy should
                                    be evaluated. 1, 2,3,4,6,8,12 or 24 are valid
                                    values. Conflicts with cron_expression. If set,
                                    interval_unit and times must also be set.
                                  type: number
                                intervalUnit:
                                  description: The unit for how often the lifecycle
                                    policy should be evaluated. HOURS is currently
                                    the only allowed value and also the default value.
                                    Conflicts with cron_expression. Must be set if
                                    interval is set.
                                  type: string
                              type: object
                            shareRule:
                              description: See the share_rule block. Max of 1 per
                                schedule.
                              properties:
                                targetAccounts:
                                  description: The IDs of the AWS accounts with which
                                    to share the snapshots.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: set
                                unshareInterval:
                                  description: The period after which snapshots that
                                    are shared with other AWS accounts are automatically
                                    unshared.
                                  type: number
                                unshareIntervalUnit:
                                  description: The unit of time for the automatic
                                    unsharing interval. Valid values are DAYS, WEEKS,
                                    MONTHS, YEARS.
                                  type: string
                              type: object
                            tagsToAdd:
                              additionalProperties:
                                type: string
                              description: A map of tag keys and their values. DLM
                                lifecycle policies will already tag the snapshot with
                                the tags on the volume. This configuration adds extra
                                tags on top of these.
                              type: object
                              x-kubernetes-map-type: granular
                            variableTags:
                              additionalProperties:
                                type: string
                              description: A map of tag keys and variable values,
                                where the values are determined when the policy is
                                executed. Only $(instance-id) or $(timestamp) are
                                valid values. Can only be used when resource_types
                                is INSTANCE.
                              type: object
                              x-kubernetes-map-type: granular
                          type: object
                        type: array
                      targetTags:
                        additionalProperties:
                          type: string
                        description: A map of tag keys and their values. Any resources
                          that match the resource_types and are tagged with any of
                          these tags will be targeted. Required when policy_type is
                          EBS_SNAPSHOT_MANAGEMENT or IMAGE_MANAGEMENT. Must not be
                          specified when policy_type is EVENT_BASED_POLICY.
                        type: object
                        x-kubernetes-map-type: granular
                    type: object
                  region:
                    description: |-
                      Region where this resource will be managed. Defaults to the Region set in the provider configuration.
                      Region is the region you'd like your resource to be created in.
                    type: string
                  state:
                    description: Whether the lifecycle policy should be enabled or
                      disabled. ENABLED or DISABLED are valid values. Defaults to
                      ENABLED.
                    type: string
                  tags:
                    additionalProperties:
                      type: string
                    description: Key-value map of resource tags.
                    type: object
                    x-kubernetes-map-type: granular
                  tagsAll:
                    additionalProperties:
                      type: string
                    description: A map of tags assigned to the resource, including
                      those inherited from the provider default_tags configuration
                      block.
                    type: object
                    x-kubernetes-map-type: granular
                type: object
              conditions:
                description: Conditions of the resource.
                items:
                  description: A Condition that may apply to a resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        LastTransitionTime is the last time this condition transitioned from one
                        status to another.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        A Message containing details about this condition's last transition from
                        one status to another, if any.
                      type: string
                    observedGeneration:
                      description: |-
                        ObservedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: A Reason for this condition's last transition from
                        one status to another.
                      type: string
                    status:
                      description: Status of this condition; is it currently True,
                        False, or Unknown?
                      type: string
                    type:
                      description: |-
                        Type of this condition. At most one of each condition type may apply to
                        a resource at any point in time.
                      type: string
                  required:
                  - lastTransitionTime
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: |-
                  ObservedGeneration is the latest metadata.generation
                  which resulted in either a ready state, or stalled due to error
                  it can not recover from without human intervention.
                format: int64
                type: integer
            type: object
        required:
        - spec
        type: object
    served: true
    storage: false
    subresources:
      status: {}
